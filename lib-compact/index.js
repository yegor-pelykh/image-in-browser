(()=>{var Nn=Object.create;var Wi=Object.defineProperty,Gn=Object.defineProperties,Hn=Object.getOwnPropertyDescriptor,zn=Object.getOwnPropertyDescriptors,Vn=Object.getOwnPropertyNames,hn=Object.getOwnPropertySymbols,Yn=Object.getPrototypeOf,ln=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable;var cn=(a,e,t)=>e in a?Wi(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,dn=(a,e)=>{for(var t in e||={})ln.call(e,t)&&cn(a,t,e[t]);if(hn)for(var t of hn(e))Zn.call(e,t)&&cn(a,t,e[t]);return a},mn=(a,e)=>Gn(a,zn(e));var M=(a,e)=>()=>(a&&(e=a(a=0)),e);var di=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var qn=(a,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vn(e))!ln.call(a,i)&&i!==t&&Wi(a,i,{get:()=>e[i],enumerable:!(r=Hn(e,i))||r.enumerable});return a};var mi=(a,e,t)=>(t=a!=null?Nn(Yn(a)):{},qn(e||!a||!a.__esModule?Wi(t,"default",{value:a,enumerable:!0}):t,a));var oe,v,ve=M(()=>{"use strict";oe=class{static signed(e,t){return t&1<<e-1?t-(1<<e):t}static shiftR(e,t){return oe.signed(32,e>>t)}static shiftL(e,t){return oe.signed(32,e<<t)}static toInt8(e){return oe.uint8arr[0]=e,oe.uint8ToInt8arr[0]}static toInt16(e){return oe.uint16arr[0]=e,oe.uint16ToInt16arr[0]}static toInt32(e){return oe.uint32arr[0]=e,oe.uint32ToInt32arr[0]}static toFloat32(e){return oe.uint32arr[0]=e,oe.uint32ToFloat32arr[0]}static toFloat64(e){return oe.uint64arr[0]=e,oe.uint64ToFloat64arr[0]}static toUint32(e){return oe.int32arr[0]=e,oe.int32ToUint32arr[0]}static debugBits32(e){if(e===void 0)return"undefined";let t=32,r="";for(let i=t;i>-1;i--)r+=(e&1<<i)===0?"0":"1";return r}},v=oe;v.uint8arr=new Uint8Array(1),v.uint8ToInt8arr=new Int8Array(oe.uint8arr.buffer),v.uint16arr=new Uint16Array(1),v.uint16ToInt16arr=new Int16Array(oe.uint16arr.buffer),v.uint32arr=new Uint32Array(1),v.uint32ToInt32arr=new Int32Array(oe.uint32arr.buffer),v.uint32ToFloat32arr=new Float32Array(oe.uint32arr.buffer),v.int32arr=new Int32Array(1),v.int32ToUint32arr=new Uint32Array(oe.int32arr.buffer),v.uint64arr=new BigUint64Array(1),v.uint64ToFloat64arr=new Float64Array(oe.uint64arr.buffer)});var Le=M(()=>{"use strict"});var $,Ne=M(()=>{"use strict";$=class{static clamp(e,t,r){return Math.max(t,Math.min(e,r))}static clampInt(e,t,r){return Math.trunc($.clamp(e,t,r))}static clampInt255(e){return Math.trunc($.clamp(e,0,255))}}});var je=M(()=>{"use strict"});var Qe=M(()=>{"use strict"});var P,j=M(()=>{"use strict";P=class extends Error{toString(){return`ImageError: ${this.message}`}}});var l,ie=M(()=>{"use strict";je();Ne();ve();j();l=class{static alphaBlendColors(e,t,r=255){let i=l.getAlpha(t);if(i===255&&r===255)return t;let n=i/255;r!==255&&(n*=r/255);let s=Math.round(l.getRed(t)*n),o=Math.round(l.getGreen(t)*n),u=Math.round(l.getBlue(t)*n),h=Math.round(i*n),f=Math.round(l.getRed(e)*(1-n)),c=Math.round(l.getGreen(e)*(1-n)),m=Math.round(l.getBlue(e)*(1-n)),d=Math.round(l.getAlpha(e)*(1-n));return l.getColor(s+f,o+c,u+m,h+d)}static getChannel(e,t){return t===0?l.getRed(e):t===1?l.getGreen(e):t===2?l.getBlue(e):t===3?l.getAlpha(e):l.getLuminance(e)}static getAlpha(e){return e>>24&255}static getBlue(e){return e>>16&255}static getColor(e,t,r,i=255){let n=$.clampInt255(i)<<24|$.clampInt255(r)<<16|$.clampInt255(t)<<8|$.clampInt255(e);return v.toUint32(n)}static getGreen(e){return e>>8&255}static getLuminance(e){let t=l.getRed(e),r=l.getGreen(e),i=l.getBlue(e);return l.getLuminanceRgb(t,r,i)}static getLuminanceRgb(e,t,r){return Math.round(.299*e+.587*t+.114*r)}static getRed(e){return e&255}static isBlack(e){return(e&16777215)===0}static isWhite(e){return(e&16777215)===16777215}static setAlpha(e,t){return e&16777215|$.clampInt255(t)<<24}static setBlue(e,t){return e&4278255615|$.clampInt255(t)<<16}static setChannel(e,t,r){return t===0?l.setRed(e,r):t===1?l.setGreen(e,r):t===2?l.setBlue(e,r):t===3?l.setAlpha(e,r):e}static setGreen(e,t){return e&4294902015|$.clampInt255(t)<<8}static setRed(e,t){return e&4294967040|$.clampInt255(t)}static hslToRgb(e,t,r){if(t===0){let f=Math.trunc(r*255);return[f,f,f]}let i=(f,c,m)=>{let d=m;return d<0&&(d+=1),d>1&&(d-=1),d<1/6?f+(c-f)*6*d:d<1/2?c:d<2/3?f+(c-f)*(2/3-d)*6:f},n=r<.5?r*(1+t):r+t-r*t,s=2*r-n,o=i(s,n,e+1/3),u=i(s,n,e),h=i(s,n,e-1/3);return[Math.round(o*255),Math.round(u*255),Math.round(h*255)]}static hsvToRgb(e,t,r){if(t===0){let h=Math.round(r*255);return[h,h,h]}let i=(e-Math.floor(e))*6,n=i-Math.floor(i),s=r*(1-t),o=r*(1-t*n),u=r*(1-t*(1-n));switch(Math.trunc(i)){case 0:return[Math.round(r*255),Math.round(u*255),Math.round(s*255)];case 1:return[Math.round(o*255),Math.round(r*255),Math.round(s*255)];case 2:return[Math.round(s*255),Math.round(r*255),Math.round(u*255)];case 3:return[Math.round(s*255),Math.round(o*255),Math.round(r*255)];case 4:return[Math.round(u*255),Math.round(s*255),Math.round(r*255)];case 5:return[Math.round(r*255),Math.round(s*255),Math.round(o*255)];default:throw new P("Invalid hue")}}static rgbToHsl(e,t,r){let i=e/255,n=t/255,s=r/255,o=Math.max(i,Math.max(n,s)),u=Math.min(i,Math.min(n,s)),h=(o+u)/2;if(o===u)return[0,0,h];let f=o-u,c=h>.5?f/(2-o-u):f/(o+u),m=0;return o===i?m=(n-s)/f+(n<s?6:0):o===n?m=(s-i)/f+2:m=(i-n)/f+4,m/=6,[m,c,h]}static labToXyz(e,t,r){let i=(e+16)/116,n=i+t/500,s=i-r/200;return Math.pow(n,3)>.008856?n=Math.pow(n,3):n=(n-16/116)/7.787,Math.pow(i,3)>.008856?i=Math.pow(i,3):i=(i-16/116)/7.787,Math.pow(s,3)>.008856?s=Math.pow(s,3):s=(s-16/116)/7.787,[Math.trunc(n*95.047),Math.trunc(i*100),Math.trunc(s*108.883)]}static xyzToRgb(e,t,r){let i=e/100,n=t/100,s=r/100,o=3.2406*i+-1.5372*n+-.4986*s,u=-.9689*i+1.8758*n+.0415*s,h=.0557*i+-.204*n+1.057*s;return o>.0031308?o=1.055*Math.pow(o,.4166666667)-.055:o*=12.92,u>.0031308?u=1.055*Math.pow(u,.4166666667)-.055:u*=12.92,h>.0031308?h=1.055*Math.pow(h,.4166666667)-.055:h*=12.92,[Math.trunc($.clamp(o*255,0,255)),Math.trunc($.clamp(u*255,0,255)),Math.trunc($.clamp(h*255,0,255))]}static cmykToRgb(e,t,r,i){let n=e/255,s=t/255,o=r/255,u=i/255;return[Math.round(255*(1-n)*(1-u)),Math.round(255*(1-s)*(1-u)),Math.round(255*(1-o)*(1-u))]}static labToRgb(e,t,r){let o=(e+16)/116,u=t/500+o,h=o-r/200,f=Math.pow(o,3);f>.008856?o=f:o=(o-16/116)/7.787;let c=Math.pow(u,3);c>.008856?u=c:u=(u-16/116)/7.787;let m=Math.pow(h,3);m>.008856?h=m:h=(h-16/116)/7.787,u*=95.047,o*=100,h*=108.883,u/=100,o/=100,h/=100;let d=u*3.2406+o*-1.5372+h*-.4986,p=u*-.9689+o*1.8758+h*.0415,A=u*.0557+o*-.204+h*1.057;return d>.0031308?d=1.055*Math.pow(d,1/2.4)-.055:d*=12.92,p>.0031308?p=1.055*Math.pow(p,1/2.4)-.055:p*=12.92,A>.0031308?A=1.055*Math.pow(A,1/2.4)-.055:A*=12.92,[Math.trunc($.clamp(d*255,0,255)),Math.trunc($.clamp(p*255,0,255)),Math.trunc($.clamp(A*255,0,255))]}static rgbToXyz(e,t,r){let i=e/255,n=t/255,s=r/255;return i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,n>.04045?n=Math.pow((n+.055)/1.055,2.4):n/=12.92,s>.04045?s=Math.pow((s+.055)/1.055,2.4):s/=12.92,i*=100,n*=100,s*=100,[i*.4124+n*.3576+s*.1805,i*.2126+n*.7152+s*.0722,i*.0193+n*.1192+s*.9505]}static xyzToLab(e,t,r){let i=e/95.047,n=t/100,s=r/108.883;return i>.008856?i=Math.pow(i,1/3):i=7.787*i+16/116,n>.008856?n=Math.pow(n,1/3):n=7.787*n+16/116,s>.008856?s=Math.pow(s,1/3):s=7.787*s+16/116,[116*n-16,500*(i-n),200*(n-s)]}static rgbToLab(e,t,r){let i=e/255,n=t/255,s=r/255;i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,n>.04045?n=Math.pow((n+.055)/1.055,2.4):n/=12.92,s>.04045?s=Math.pow((s+.055)/1.055,2.4):s/=12.92,i*=100,n*=100,s*=100;let o=i*.4124+n*.3576+s*.1805,u=i*.2126+n*.7152+s*.0722,h=i*.0193+n*.1192+s*.9505;return o/=95.047,u/=100,h/=108.883,o>.008856?o=Math.pow(o,1/3):o=7.787*o+16/116,u>.008856?u=Math.pow(u,1/3):u=7.787*u+16/116,h>.008856?h=Math.pow(h,1/3):h=7.787*h+16/116,[116*u-16,500*(o-u),200*(u-h)]}}});var ur,Ke=M(()=>{"use strict";ie();ur=class{static fromRgb(e,t,r){return l.getColor(e,t,r)}static fromRgba(e,t,r,i){return l.getColor(e,t,r,i)}static fromHsl(e,t,r){let i=l.hslToRgb(e,t,r);return l.getColor(i[0],i[1],i[2])}static fromHsv(e,t,r){let i=l.hsvToRgb(e,t,r);return l.getColor(i[0],i[1],i[2])}static fromXyz(e,t,r){let i=l.xyzToRgb(e,t,r);return l.getColor(i[0],i[1],i[2])}static fromLab(e,t,r){let i=l.labToRgb(e,t,r);return l.getColor(i[0],i[1],i[2])}static distance(e,t,r){let i=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2];if(r){let o=e[3]-t[3];return Math.sqrt(Math.max(i*i,(i-o)*(i-o))+Math.max(n*n,(n-o)*(n-o))+Math.max(s*s,(s-o)*(s-o)))}else return Math.sqrt(i*i+n*n+s*s)}}});var pi,Te,Ge=M(()=>{"use strict";pi=class{static makeTable(){let e=[],t=0;for(let r=0;r<256;r++){t=r;for(let i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}static getChecksum(e){var o,u,h;let t=pi.crcTable,r=(o=e.length)!=null?o:e.buffer.length,i=(u=e.position)!=null?u:0,n=i+r,s=((h=e.baseCrc)!=null?h:0)^-1;for(let f=i;f<n;f++)s=s>>>8^t[(s^e.buffer[f])&255];return(s^-1)>>>0}},Te=pi;Te.crcTable=new Uint32Array(pi.makeTable())});var He=M(()=>{"use strict"});var N,ue=M(()=>{"use strict";j();N=class{static copyInt8(e,t,r){return Int8Array.from(e.subarray(t,r))}static copyUint8(e,t,r){return Uint8Array.from(e.subarray(t,r))}static copyInt16(e,t,r){return Int16Array.from(e.subarray(t,r))}static copyUint16(e,t,r){return Uint16Array.from(e.subarray(t,r))}static copyInt32(e,t,r){return Int32Array.from(e.subarray(t,r))}static copyUint32(e,t,r){return Uint32Array.from(e.subarray(t,r))}static copyFloat32(e,t,r){return Float32Array.from(e.subarray(t,r))}static copyFloat64(e,t,r){return Float64Array.from(e.subarray(t,r))}static copy(e,t,r){if(e instanceof Int8Array)return N.copyInt8(e,t,r);if(e instanceof Uint8Array)return N.copyUint8(e,t,r);if(e instanceof Int16Array)return N.copyInt16(e,t,r);if(e instanceof Uint16Array)return N.copyUint16(e,t,r);if(e instanceof Int32Array)return N.copyInt32(e,t,r);if(e instanceof Uint32Array)return N.copyUint32(e,t,r);if(e instanceof Float32Array)return N.copyFloat32(e,t,r);if(e instanceof Float64Array)return N.copyFloat64(e,t,r);throw new P("Unknown array type")}static setRange(e,t,r,i,n=0){let s=i.subarray(n,r-t);e.set(s,t)}}});var Qr,Be,Se=M(()=>{"use strict";ue();Qr=class{get rawData(){return this._rawData}get data(){return this._data}get hasRawData(){return this.rawData!==void 0&&this.rawData.length>0}get hasOrientation(){return this.data.has(Qr.ORIENTATION)}get orientation(){return this.data.get(Qr.ORIENTATION)}constructor(e){var t;this._data=(t=e==null?void 0:e.data)!=null?t:new Map,this._rawData=e==null?void 0:e.rawData}static from(e){let t,r;if(e!==void 0&&(e._data!==void 0&&(t=new Map(e._data)),e._rawData!==void 0)){r=new Array(e._rawData.length);for(let i=0;i<r.length;i++)r[i]=N.copyUint8(e._rawData[i])}return new Qr({data:t,rawData:r})}addRowData(e){this._rawData===void 0&&(this._rawData=new Array),this._rawData.push(e)}},Be=Qr;Be.ORIENTATION=274});var Je=M(()=>{"use strict"});var ze,Fe=M(()=>{"use strict";Je();ze=class{constructor(e){this._width=0;this._height=0;this._backgroundColor=4294967295;this._loopCount=0;this._frameType=0;this._frames=[];var t,r,i;this._width=(t=e==null?void 0:e.width)!=null?t:0,this._height=(r=e==null?void 0:e.height)!=null?r:0,this._loopCount=(i=e==null?void 0:e.loopCount)!=null?i:0}get width(){return this._width}get height(){return this._height}get backgroundColor(){return this._backgroundColor}get loopCount(){return this._loopCount}get frameType(){return this._frameType}get frames(){return this._frames}get numFrames(){return this.frames.length}get first(){return this.frames[0]}get last(){return this.frames[this.frames.length-1]}get isEmpty(){return this.frames.length===0}get isNotEmpty(){return this.frames.length>0}getFrame(e){return this.frames[e]}addFrame(e){this._width<e.width&&(this._width=e.width),this._height<e.height&&(this._height=e.height),this.frames.push(e)}[Symbol.iterator](){let e=-1;return{next:()=>({value:this._frames[++e],done:!(e in this._frames)})}}}});var Ve=M(()=>{"use strict"});var Ye=M(()=>{"use strict"});var de=M(()=>{"use strict"});var W,me=M(()=>{"use strict";Se();Ye();ue();ie();de();He();Le();Qe();j();W=class{constructor(e){this._xOffset=0;this._yOffset=0;this._duration=0;this._disposeMethod=1;this._blendMethod=1;var t,r;this._width=e.width,this._height=e.height,this._rgbChannelSet=(t=e.rgbChannelSet)!=null?t:1,this._exifData=Be.from(e.exifData),this._iccProfile=e.iccProfile,this._textData=e.textData,this._data=(r=e.data)!=null?r:new Uint32Array(e.width*e.height)}get data(){return this._data}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}set duration(e){this._duration=e}get duration(){return this._duration}get disposeMethod(){return this._disposeMethod}get blendMethod(){return this._blendMethod}get rgbChannelSet(){return this._rgbChannelSet}get exifData(){return this._exifData}set iccProfile(e){this._iccProfile=e}get iccProfile(){return this._iccProfile}get textData(){return this._textData}get width(){return this._width}get height(){return this._height}get numberOfChannels(){return this.rgbChannelSet===1?4:3}get length(){return this.data.length}static convertData(e,t,r,i){if(i===2)return r instanceof Uint32Array?N.copyUint32(r):N.copyUint32(new Uint32Array(r.buffer));let n=r instanceof Uint32Array?new Uint8Array(r.buffer):r,s=new Uint32Array(e*t),o=new Uint8Array(s.buffer);switch(i){case 3:for(let u=0,h=n.length;u<h;u+=4)o[u+0]=n[u+2],o[u+1]=n[u+1],o[u+2]=n[u+0],o[u+3]=n[u+3];break;case 1:for(let u=0,h=n.length;u<h;u+=4)o[u+0]=n[u+3],o[u+1]=n[u+2],o[u+2]=n[u+1],o[u+3]=n[u+0];break;case 0:for(let u=0,h=n.length;u<h;u+=4)o[u+0]=n[u+1],o[u+1]=n[u+2],o[u+2]=n[u+3],o[u+3]=n[u+0];break;case 5:for(let u=0,h=0,f=n.length;h<f;u+=4,h+=3)o[u+0]=n[h+2],o[u+1]=n[h+1],o[u+2]=n[h+0],o[u+3]=255;break;case 4:for(let u=0,h=0,f=n.length;h<f;u+=4,h+=3)o[u+0]=n[h+0],o[u+1]=n[h+1],o[u+2]=n[h+2],o[u+3]=255;break;case 6:for(let u=0,h=0,f=n.length;h<f;u+=4,++h)o[u+0]=n[h],o[u+1]=n[h],o[u+2]=n[h],o[u+3]=255;break}return s}static rgb(e){let t=mn(dn({},e),{rgbChannelSet:0});return new W(t)}static from(e){let t=new W({width:e._width,height:e._height,rgbChannelSet:e._rgbChannelSet,exifData:Be.from(e._exifData),iccProfile:e._iccProfile,textData:e._textData!==void 0?new Map(e._textData):void 0,data:N.copyUint32(e._data)});return t._xOffset=e._xOffset,t._yOffset=e._yOffset,t._duration=e._duration,t._disposeMethod=e._disposeMethod,t._blendMethod=e._blendMethod,t}static fromBytes(e){var i,n;(i=e.rgbChannelSet)!=null||(e.rgbChannelSet=1),(n=e.colorModel)!=null||(e.colorModel=2);let t=this.convertData(e.width,e.height,e.data,e.colorModel);return new W({width:e.width,height:e.height,rgbChannelSet:e.rgbChannelSet,exifData:e.exifData,iccProfile:e.iccProfile,textData:e.textData,data:t})}clone(){return W.from(this)}getBytes(e=2){let t=new Uint8Array(this._data.buffer);switch(e){case 2:return t;case 3:{let r=new Uint8Array(this._width*this._height*4);for(let i=0,n=r.length;i<n;i+=4)r[i+0]=t[i+2],r[i+1]=t[i+1],r[i+2]=t[i+0],r[i+3]=t[i+3];return r}case 1:{let r=new Uint8Array(this._width*this._height*4);for(let i=0,n=r.length;i<n;i+=4)r[i+0]=t[i+3],r[i+1]=t[i+2],r[i+2]=t[i+1],r[i+3]=t[i+0];return r}case 0:{let r=new Uint8Array(this._width*this._height*4);for(let i=0,n=r.length;i<n;i+=4)r[i+0]=t[i+3],r[i+1]=t[i+0],r[i+2]=t[i+1],r[i+3]=t[i+2];return r}case 4:{let r=new Uint8Array(this._width*this._height*3);for(let i=0,n=0,s=r.length;n<s;i+=4,n+=3)r[n+0]=t[i+0],r[n+1]=t[i+1],r[n+2]=t[i+2];return r}case 5:{let r=new Uint8Array(this._width*this._height*3);for(let i=0,n=0,s=r.length;n<s;i+=4,n+=3)r[n+0]=t[i+2],r[n+1]=t[i+1],r[n+2]=t[i+0];return r}case 6:{let r=new Uint8Array(this._width*this._height);for(let i=0,n=length;i<n;++i)r[i]=l.getLuminance(this._data[i]);return r}}throw new P("Unknown color model")}fill(e){return this._data.fill(e),this}fillBackground(e){for(let t=0;t<length;t++)this._data[t]===0&&(this._data[t]=e)}addImage(e){let t=Math.min(this._height,e._height),r=Math.min(this._width,e._width);for(let i=0;i<t;++i)for(let n=0;n<r;++n){let s=this.getPixel(n,i),o=l.getRed(s),u=l.getGreen(s),h=l.getBlue(s),f=l.getAlpha(s),c=e.getPixel(n,i),m=l.getRed(c),d=l.getGreen(c),p=l.getBlue(c),A=l.getAlpha(c);this.setPixel(n,i,l.getColor(o+m,u+d,h+p,f+A))}return this}subtractImage(e){let t=Math.min(this._height,e._height),r=Math.min(this._width,e._width);for(let i=0;i<t;++i)for(let n=0;n<r;++n){let s=this.getPixel(n,i),o=l.getRed(s),u=l.getGreen(s),h=l.getBlue(s),f=l.getAlpha(s),c=e.getPixel(n,i),m=l.getRed(c),d=l.getGreen(c),p=l.getBlue(c),A=l.getAlpha(c);this.setPixel(n,i,l.getColor(o-m,u-d,h-p,f-A))}return this}multiplyImage(e){let t=Math.min(this._height,e._height),r=Math.min(this._width,e._width);for(let i=0;i<t;++i)for(let n=0;n<r;++n){let s=this.getPixel(n,i),o=l.getRed(s),u=l.getGreen(s),h=l.getBlue(s),f=l.getAlpha(s),c=e.getPixel(n,i),m=l.getRed(c),d=l.getGreen(c),p=l.getBlue(c),A=l.getAlpha(c);this.setPixel(n,i,l.getColor(o*m,u*d,h*p,f*A))}return this}orImage(e){let t=Math.min(this._height,e._height),r=Math.min(this._width,e._width);for(let i=0;i<t;++i)for(let n=0;n<r;++n){let s=this.getPixel(n,i),o=l.getRed(s),u=l.getGreen(s),h=l.getBlue(s),f=l.getAlpha(s),c=e.getPixel(n,i),m=l.getRed(c),d=l.getGreen(c),p=l.getBlue(c),A=l.getAlpha(c);this.setPixel(n,i,l.getColor(o|m,u|d,h|p,f|A))}return this}andImage(e){let t=Math.min(this._height,e._height),r=Math.min(this._width,e._width);for(let i=0;i<t;++i)for(let n=0;n<r;++n){let s=this.getPixel(n,i),o=l.getRed(s),u=l.getGreen(s),h=l.getBlue(s),f=l.getAlpha(s),c=e.getPixel(n,i),m=l.getRed(c),d=l.getGreen(c),p=l.getBlue(c),A=l.getAlpha(c);this.setPixel(n,i,l.getColor(o&m,u&d,h&p,f&A))}return this}modImage(e){let t=Math.min(this._height,e._height),r=Math.min(this._width,e._width);for(let i=0;i<t;++i)for(let n=0;n<r;++n){let s=this.getPixel(n,i),o=l.getRed(s),u=l.getGreen(s),h=l.getBlue(s),f=l.getAlpha(s),c=e.getPixel(n,i),m=l.getRed(c),d=l.getGreen(c),p=l.getBlue(c),A=l.getAlpha(c);this.setPixel(n,i,l.getColor(o%m,u%d,h%p,f%A))}return this}getPixelByIndex(e){return this._data[e]}setPixelByIndex(e,t){this._data[e]=t}getBufferIndex(e,t){return t*this._width+e}boundsSafe(e,t){return e>=0&&e<this._width&&t>=0&&t<this._height}getPixel(e,t){let r=this.getBufferIndex(e,t);return this._data[r]}getPixelSafe(e,t){let r=this.getBufferIndex(e,t);return this.boundsSafe(e,t)?this._data[r]:0}getPixelInterpolate(e,t,r=1){return r===2?this.getPixelCubic(e,t):r===1?this.getPixelLinear(e,t):this.getPixelSafe(Math.trunc(e),Math.trunc(t))}getPixelLinear(e,t){let r=Math.trunc(e)-(e>=0?0:1),i=r+1,n=Math.trunc(t)-(t>=0?0:1),s=n+1,o=e-r,u=t-n,h=(p,A,b,x)=>Math.trunc(p+o*(A-p+u*(p+x-b-A))+u*(b-p)),f=this.getPixelSafe(r,n),c=s>=this._height?f:this.getPixelSafe(r,s),m=i>=this._width?f:this.getPixelSafe(i,n),d=i>=this._width||s>=this._height?f:this.getPixelSafe(i,s);return l.getColor(h(l.getRed(f),l.getRed(m),l.getRed(c),l.getRed(d)),h(l.getGreen(f),l.getGreen(m),l.getGreen(c),l.getGreen(d)),h(l.getBlue(f),l.getBlue(m),l.getBlue(c),l.getBlue(d)),h(l.getAlpha(f),l.getAlpha(m),l.getAlpha(c),l.getAlpha(d)))}getPixelCubic(e,t){let r=Math.trunc(e)-(e>=0?0:1),i=r-1,n=r+1,s=r+2,o=Math.trunc(t)-(t>=0?0:1),u=o-1,h=o+1,f=o+2,c=e-r,m=t-o,d=(dr,Dr,gt,$i,fn)=>gt+.5*(dr*(-Dr+$i)+(dr*(dr*(2*Dr))-5*gt+4*$i-fn)+dr*(dr*(dr*(-Dr+3*gt-3*$i+fn)))),p=this.getPixelSafe(r,o),A=i<0||u<0?p:this.getPixelSafe(i,u),b=i<0?p:this.getPixelSafe(r,u),x=u<0||n>=this._width?p:this.getPixelSafe(n,u),w=s>=this._width||u<0?p:this.getPixelSafe(s,u),I=d(c,l.getRed(A),l.getRed(b),l.getRed(x),l.getRed(w)),C=d(c,l.getGreen(A),l.getGreen(b),l.getGreen(x),l.getGreen(w)),T=d(c,l.getBlue(A),l.getBlue(b),l.getBlue(x),l.getBlue(w)),k=d(c,l.getAlpha(A),l.getAlpha(b),l.getAlpha(x),l.getAlpha(w)),S=i<0?p:this.getPixelSafe(i,o),E=n>=this._width?p:this.getPixelSafe(n,o),D=s>=this._width?p:this.getPixelSafe(s,o),F=d(c,l.getRed(S),l.getRed(p),l.getRed(E),l.getRed(D)),U=d(c,l.getGreen(S),l.getGreen(p),l.getGreen(E),l.getGreen(D)),R=d(c,l.getBlue(S),l.getBlue(p),l.getBlue(E),l.getBlue(D)),z=d(c,l.getAlpha(S),l.getAlpha(p),l.getAlpha(E),l.getAlpha(D)),G=i<0||h>=this._height?p:this.getPixelSafe(i,h),Z=h>=this._height?p:this.getPixelSafe(r,h),q=n>=this._width||h>=this._height?p:this.getPixelSafe(n,h),J=s>=this._width||h>=this._height?p:this.getPixelSafe(s,h),ae=d(c,l.getRed(G),l.getRed(Z),l.getRed(q),l.getRed(J)),Oe=d(c,l.getGreen(G),l.getGreen(Z),l.getGreen(q),l.getGreen(J)),jt=d(c,l.getBlue(G),l.getBlue(Z),l.getBlue(q),l.getBlue(J)),ee=d(c,l.getAlpha(G),l.getAlpha(Z),l.getAlpha(q),l.getAlpha(J)),le=i<0||f>=this._height?p:this.getPixelSafe(i,f),re=f>=this._height?p:this.getPixelSafe(r,f),Ae=n>=this._width||f>=this._height?p:this.getPixelSafe(n,f),Ir=s>=this._width||f>=this._height?p:this.getPixelSafe(s,f),Ie=d(c,l.getRed(le),l.getRed(re),l.getRed(Ae),l.getRed(Ir)),Ue=d(c,l.getGreen(le),l.getGreen(re),l.getGreen(Ae),l.getGreen(Ir)),$r=d(c,l.getBlue(le),l.getBlue(re),l.getBlue(Ae),l.getBlue(Ir)),Wr=d(c,l.getAlpha(le),l.getAlpha(re),l.getAlpha(Ae),l.getAlpha(Ir)),jr=d(m,I,F,ae,Ie),te=d(m,C,U,Oe,Ue),ci=d(m,T,R,jt,$r),li=d(m,k,z,ee,Wr);return l.getColor(Math.trunc(jr),Math.trunc(te),Math.trunc(ci),Math.trunc(li))}setPixel(e,t,r){let i=this.getBufferIndex(e,t);this._data[i]=r}setPixelSafe(e,t,r){if(this.boundsSafe(e,t)){let i=this.getBufferIndex(e,t);this._data[i]=r}}setPixelRgba(e,t,r,i,n,s=255){let o=this.getBufferIndex(e,t);this._data[o]=l.getColor(r,i,n,s)}getWhiteBalance(e=!1){let t=this._data.length,r=0,i=0,n=0,s=1;for(let u=0;u<t;++u)r+=(l.getRed(this._data[u])-r)/s,i+=(l.getGreen(this._data[u])-i)/s,n+=(l.getBlue(this._data[u])-n)/s,++s;let o=(r+i+n)/3;return e?o:Math.trunc(o)}addTextData(e){this._textData===void 0&&(this._textData=new Map);for(let[t,r]of e)this._textData.set(t,r)}}});var Qt=M(()=>{"use strict"});function vr(a,e,t,r,i=255){if(a.boundsSafe(e,t)){let n=a.getBufferIndex(e,t),s=a.getPixelByIndex(n);a.setPixelByIndex(n,l.alphaBlendColors(s,r,i))}return a}var et=M(()=>{"use strict";ie()});var tt,Re=M(()=>{"use strict";tt=class extends Error{toString(){return this.message.length>0?`NotImplementedError: ${this.message}`:"NotImplementedError"}}});var V,fr,xt=M(()=>{"use strict";ve();V=class{constructor(e){this.bits=e}static convert(e){let t=e>>16&32768,r=(e>>23&255)-(127-15),i=e&8388607;if(r<=0){if(r<-10)return t;i|=8388608;let n=14-r,s=(1<<n-1)-1,o=i>>n&1;return i=i+s+o>>n,t|i}else return r===255-(127-15)?i===0?t|31744:(i>>=13,t|31744|i|(i===0?1:0)):(i=i+4095+(i>>13&1),(i&8388608)!==0&&(i=0,r+=1),r>30?t|31744:t|r<<10|i>>13)}static halfToFloat(e){let t=e>>15&1,r=e>>10&31,i=e&1023;if(r===0){if(i===0)return t<<31;for(;(i&1024)===0;)i<<=1,r-=1;r+=1,i&=-1025}else if(r===31)return i===0?t<<31|2139095040:t<<31|2139095040|i<<13;return r+=127-15,i<<=13,t<<31|r<<23|i}static fromBits(e){return new V(e)}static halfToDouble(e){return this.toFloatFloat32[e]}static doubleToHalf(e){let t=e,r=v.toUint32(t);if(t===0)return r>>16;let i=r>>23&511;if(i=this.eLut[i],i!==0){let n=r&8388607;return i+(n+4095+(n>>13&1)>>13)}return this.convert(r)}static positiveInfinity(){return V.fromBits(31744)}static negativeInfinity(){return V.fromBits(64512)}static qNan(){return V.fromBits(32767)}static sNan(){return V.fromBits(32255)}toDouble(){return V.toFloatFloat32[this.bits]}unaryMinus(){return V.fromBits(this.bits^32768)}add(e){let t=0;e instanceof V?t=e.toDouble():typeof e=="number"&&(t=e);let r=V.doubleToHalf(this.toDouble()+t);return new V(r)}subtract(e){let t=0;e instanceof V?t=e.toDouble():typeof e=="number"&&(t=e);let r=V.doubleToHalf(this.toDouble()-t);return new V(r)}multiply(e){let t=0;e instanceof V?t=e.toDouble():typeof e=="number"&&(t=e);let r=V.doubleToHalf(this.toDouble()*t);return new V(r)}divide(e){let t=0;e instanceof V?t=e.toDouble():typeof e=="number"&&(t=e);let r=V.doubleToHalf(this.toDouble()/t);return new V(r)}round(e){if(e>=10)return this;let t=this.bits&32768,r=this.bits&32767;return r>>=9-e,r+=r&1,r<<=9-e,r>=31744&&(r=this.bits,r>>=10-e,r<<=10-e),V.fromBits(t|r)}isFinite(){return(this.bits>>10&31)<31}isNormalized(){let e=this.bits>>10&31;return e>0&&e<31}isDenormalized(){let e=this.bits>>10&31,t=this.bits&1023;return e===0&&t!==0}isZero(){return(this.bits&32767)===0}isNan(){let e=this.bits>>10&31,t=this.bits&1023;return e===31&&t!==0}isInfinity(){let e=this.bits>>10&31,t=this.bits&1023;return e===31&&t===0}isNegative(){return(this.bits&32768)!==0}getBits(){return this.bits}setBits(e){this.bits=e}},fr=V;(()=>{V.toFloatUint32=new Uint32Array(1<<16),V.toFloatFloat32=new Float32Array(V.toFloatUint32.buffer),V.eLut=new Uint16Array(1<<9);for(let t=0;t<256;t++){let r=(t&255)-112;r<=0||r>=30?(V.eLut[t]=0,V.eLut[t|256]=0):(V.eLut[t]=r<<10,V.eLut[t|256]=r<<10|32768)}let e=1<<16;for(let t=0;t<e;t++)V.toFloatUint32[t]=V.halfToFloat(t)})()});var rt,be,_t=M(()=>{"use strict";ue();Re();xt();rt=class{get name(){return this._name}get width(){return this._width}get height(){return this._height}get format(){return this._format}get bitsPerSample(){return this._bitsPerSample}get maxIntSize(){let e=4294967295;return this._bitsPerSample===8?e=255:this._bitsPerSample===16&&(e=65535),this._format===rt.INT&&(e-=1),e}get isFloat(){return this._format===rt.FLOAT}constructor(e){var t;this._name=e.name,this._width=e.width,this._height=e.height,this._format=e.format,this._bitsPerSample=e.bitsPerSample,this.data=(t=e.data)!=null?t:rt.allocateDataForType(e.width*e.height,e.format,e.bitsPerSample)}static allocateDataForType(e,t,r){switch(t){case rt.INT:if(r===8)return new Int8Array(e);if(r===16)return new Int16Array(e);if(r===32)return new Int32Array(e);break;case rt.UINT:if(r===8)return new Uint8Array(e);if(r===16)return new Uint16Array(e);if(r===32)return new Uint32Array(e);break;case rt.FLOAT:if(r===16)return new Uint16Array(e);if(r===32)return new Float32Array(e);if(r===64)return new Float64Array(e);break}throw new tt}static from(e){return new rt({name:e._name,width:e._width,height:e._height,format:e._format,bitsPerSample:e._bitsPerSample,data:N.copy(e.data)})}getBytes(){return new Uint8Array(this.data.buffer)}getFloat(e,t){let r=t*this._width+e;return this._format===rt.INT||this._format===rt.UINT?Math.trunc(this.data[r])/this.maxIntSize:this._format===rt.FLOAT&&this._bitsPerSample===16?fr.halfToDouble(this.data[r]):this.data[r]}setFloat(e,t,r){if(this._format!==rt.FLOAT)return;let i=t*this._width+e;this._bitsPerSample===16?this.data[i]=fr.doubleToHalf(r):this.data[i]=r}getInt(e,t){let r=t*this._width+e;return Math.trunc(this.data[r])}setInt(e,t,r){let i=t*this._width+e;this.data[i]=Math.trunc(r)}},be=rt;be.UINT=0,be.INT=1,be.FLOAT=3});var ge,fe,Ee=M(()=>{"use strict";de();_t();ge=class{constructor(){this.slices=new Map}get hasColor(){return this.red!==void 0||this.green!==void 0||this.blue!==void 0}get hasAlpha(){return this.alpha!==void 0}get hasDepth(){return this.depth!==void 0}get width(){return this.slices.size>0?this.slices.values().next().value.width:0}get height(){return this.slices.size>0?this.slices.values().next().value.height:0}get bitsPerSample(){return this.red!==void 0?this.red.bitsPerSample:this.slices.size>0?this.slices.values().next().value.bitsPerSample:0}get sampleFormat(){return this.red!==void 0?this.red.format:this.slices.size>0?this.slices.values().next().value.format:0}get numberOfChannels(){return this.slices.size}static create(e,t,r,i,n){let s=new ge;if(0<=r&&r<=4){let o=[ge.R,ge.G,ge.B,ge.A];for(let u=0;u<r;++u)s.addChannel(new be({name:o[u],width:e,height:t,format:i,bitsPerSample:n}));return s}else return s}static from(e){let t=new ge;for(let[,r]of e.slices)t.addChannel(be.from(r));return t}static fromImage(e,t=be.FLOAT,r=16){let i=new ge;i.addChannel(new be({name:ge.R,width:e.width,height:e.height,format:t,bitsPerSample:r})),i.addChannel(new be({name:ge.G,width:e.width,height:e.height,format:t,bitsPerSample:r})),i.addChannel(new be({name:ge.B,width:e.width,height:e.height,format:t,bitsPerSample:r})),e.rgbChannelSet===1&&i.addChannel(new be({name:ge.A,width:e.width,height:e.height,format:t,bitsPerSample:r}));let n=e.getBytes();for(let s=0,o=0;s<e.height;++s)for(let u=0;u<e.width;++u)i.setRed(u,s,n[o++]/255),i.setGreen(u,s,n[o++]/255),i.setBlue(u,s,n[o++]/255),i.alpha!==void 0&&i.setAlpha(u,s,n[o++]/255);return i}getRed(e,t){return this.red!==void 0?this.red.isFloat?this.red.getFloat(e,t):this.red.getInt(e,t):0}setRed(e,t,r){this.red!==void 0&&(this.red.isFloat?this.red.setFloat(e,t,r):this.red.setInt(e,t,r))}setRedInt(e,t,r){this.red!==void 0&&this.red.setInt(e,t,r)}getGreen(e,t){return this.green!==void 0?this.green.isFloat?this.green.getFloat(e,t):this.green.getInt(e,t):0}setGreen(e,t,r){this.green!==void 0&&(this.green.isFloat?this.green.setFloat(e,t,r):this.green.setInt(e,t,r))}setGreenInt(e,t,r){this.green!==void 0&&this.green.setInt(e,t,r)}getBlue(e,t){return this.blue!==void 0?this.blue.isFloat?this.blue.getFloat(e,t):this.blue.getInt(e,t):0}setBlue(e,t,r){this.blue!==void 0&&(this.blue.isFloat?this.blue.setFloat(e,t,r):this.blue.setInt(e,t,r))}setBlueInt(e,t,r){this.blue!==void 0&&this.blue.setInt(e,t,r)}getAlpha(e,t){return this.alpha!==void 0?this.alpha.isFloat?this.alpha.getFloat(e,t):this.alpha.getInt(e,t):0}setAlpha(e,t,r){this.alpha!==void 0&&(this.alpha.isFloat?this.alpha.setFloat(e,t,r):this.alpha.setInt(e,t,r))}setAlphaInt(e,t,r){this.alpha!==void 0&&this.alpha.setInt(e,t,r)}getDepth(e,t){return this.depth!==void 0?this.depth.isFloat?this.depth.getFloat(e,t):this.depth.getInt(e,t):0}setDepth(e,t,r){this.depth!==void 0&&(this.depth.isFloat?this.depth.setFloat(e,t,r):this.depth.setInt(e,t,r))}setDepthInt(e,t,r){this.depth!==void 0&&this.depth.setInt(e,t,r)}hasChannel(e){return this.slices.has(e)}getChannel(e){return this.slices.get(e)}addChannel(e){let t=e.name;switch(this.slices.set(t,e),t){case ge.R:this.red=e;break;case ge.G:this.green=e;break;case ge.B:this.blue=e;break;case ge.A:this.alpha=e;break;case ge.Z:this.depth=e;break}}toFloatRgba(){let e=new Float32Array(this.width*this.height*4),t=this.width,r=this.height;for(let i=0,n=0;i<r;++i)for(let s=0;s<t;++s)e[n++]=this.red===void 0?0:this.red.getFloat(s,i),e[n++]=this.green===void 0?0:this.green.getFloat(s,i),e[n++]=this.blue===void 0?0:this.blue.getFloat(s,i),e[n++]=this.alpha===void 0?1:this.alpha.getFloat(s,i);return e}},fe=ge;fe.R="R",fe.G="G",fe.B="B",fe.A="A",fe.Z="Z"});var X,ye=M(()=>{"use strict";ve();Pe();j();X=class{get buffer(){return this._buffer}set bigEndian(e){this._bigEndian=e}get bigEndian(){return this._bigEndian}set offset(e){this._offset=e}get offset(){return this._offset}get start(){return this._start}get end(){return this._end}get position(){return this._offset-this._start}get length(){return this._end-this._offset}get isEOS(){return this._offset>=this._end}constructor(e){var t,r;this._buffer=e.buffer,this._bigEndian=(t=e.bigEndian)!=null?t:!1,this._offset=(r=e.offset)!=null?r:0,this._start=this._offset,this._end=e.length!==void 0?this._start+e.length:this._buffer.length}static from(e,t,r){let i=t!=null?t:0,n=new X({buffer:e._buffer,bigEndian:e._bigEndian,offset:e._offset+i,length:r});return n._start=e._start,n._end=r!==void 0?e.offset+i+r:e._end,n}rewind(){this._offset=this._start}getByte(e){return this._buffer[this._offset+e]}setByte(e,t){return this._buffer[this._offset+e]=t}memset(e,t,r){this._buffer.fill(this._offset+e,this._offset+e+t,r)}subarray(e,t,r=0){let i=t!==void 0?this._start+t:this._offset;return i+=r,new X({buffer:this._buffer,bigEndian:this._bigEndian,offset:i,length:e})}indexOf(e,t=0){for(let r=this._offset+t,i=this._offset+length;r<i;++r)if(this._buffer[r]===e)return r-this._start;return-1}peekBytes(e,t=0){return this.subarray(e,void 0,t)}skip(e){this._offset+=e}readByte(){return this._buffer[this._offset++]}readInt8(){return v.toInt8(this.readByte())}readBytes(e){let t=this.subarray(e);return this._offset+=t.length,t}readString(e){if(e===void 0){let n=[];for(;!this.isEOS;){let s=this.readByte();if(s===0)return String.fromCharCode(...n);n.push(s)}throw new P("EOF reached without finding string terminator")}let r=this.readBytes(e).toUint8Array();return String.fromCharCode(...r)}readStringUtf8(){let e=[];for(;!this.isEOS;){let t=this.readByte();if(t===0){let r=new Uint8Array(e);return K.utf8Decoder.decode(r)}e.push(t)}throw new P("EOF reached without finding string terminator")}readUint16(){let e=this._buffer[this._offset++]&255,t=this._buffer[this._offset++]&255;return this._bigEndian?e<<8|t:t<<8|e}readInt16(){return v.toInt16(this.readUint16())}readUint24(){let e=this._buffer[this._offset++]&255,t=this._buffer[this._offset++]&255,r=this._buffer[this._offset++]&255;return this._bigEndian?r|t<<8|e<<16:e|t<<8|r<<16}readUint32(){let e=this._buffer[this._offset++]&255,t=this._buffer[this._offset++]&255,r=this._buffer[this._offset++]&255,i=this._buffer[this._offset++]&255,n=this._bigEndian?e<<24|t<<16|r<<8|i:i<<24|r<<16|t<<8|e;return v.toUint32(n)}readInt32(){return v.toInt32(this.readUint32())}readFloat32(){return v.toFloat32(this.readUint32())}readFloat64(){return v.toFloat64(this.readUint64())}readUint64(){let e=this._buffer[this._offset++]&255,t=this._buffer[this._offset++]&255,r=this._buffer[this._offset++]&255,i=this._buffer[this._offset++]&255,n=this._buffer[this._offset++]&255,s=this._buffer[this._offset++]&255,o=this._buffer[this._offset++]&255,u=this._buffer[this._offset++]&255;return this._bigEndian?BigInt(e<<56)|BigInt(t<<48)|BigInt(r<<40)|BigInt(i<<32)|BigInt(n<<24)|BigInt(s<<16)|BigInt(o<<8)|BigInt(u):BigInt(u<<56)|BigInt(o<<48)|BigInt(s<<40)|BigInt(n<<32)|BigInt(i<<24)|BigInt(r<<16)|BigInt(t<<8)|BigInt(e)}toUint8Array(e,t){let r=e!=null?e:0,i=t!=null?t:this.length-r;return new Uint8Array(this._buffer.buffer,this._buffer.byteOffset+this._offset+r,i)}toUint32Array(e){let t=e!=null?e:0;return new Uint32Array(this._buffer.buffer,this._buffer.byteOffset+this._offset+t)}}});var Kr,wt,ke=M(()=>{"use strict";j();ye();Kr=class{get fileLength(){return this._fileLength}set offset(e){this._offset=e}get offset(){return this._offset}constructor(e){if(!Kr.isValidFile(e))throw new P("Not a bitmap file.");e.skip(2),this._fileLength=e.readInt32(),e.skip(4),this._offset=e.readInt32()}static isValidFile(e){return e.length<2?!1:X.from(e).readUint16()===Kr.BMP_HEADER_FILETYPE}toJson(){return new Map([["offset",this._offset],["fileLength",this.fileLength],["fileType",Kr.BMP_HEADER_FILETYPE]])}},wt=Kr;wt.BMP_HEADER_FILETYPE=66+(77<<8)});var At=M(()=>{"use strict"});var it=M(()=>{"use strict";ve();ie();j();Re();At();ke()});var Ze=M(()=>{"use strict";Fe();me();Ee();ke();it();ye()});var ei,ne,Ce=M(()=>{"use strict";ue();ei=class{get buffer(){return this._buffer}get bigEndian(){return this._bigEndian}set length(e){this._length=e}get length(){return this._length}constructor(e){var t,r;this._bigEndian=(t=e==null?void 0:e.bigEndian)!=null?t:!1,this._buffer=new Uint8Array((r=e==null?void 0:e.size)!=null?r:ei.BLOCK_SIZE),this._length=0}expandBuffer(e){let t=ei.BLOCK_SIZE;e!==void 0?t=e:this._buffer.length>0&&(t=this._buffer.length*2);let r=new Uint8Array(this._buffer.length+t);N.setRange(r,0,this._buffer.length,this._buffer),this._buffer=r}rewind(){this._length=0}clear(){this._buffer=new Uint8Array(ei.BLOCK_SIZE),this._length=0}getBytes(){return new Uint8Array(this._buffer.buffer,0,this._length)}writeByte(e){this._length===this._buffer.length&&this.expandBuffer(),this._buffer[this._length++]=e&255}writeBytes(e,t){let r=t!=null?t:e.length;for(;this._length+r>this._buffer.length;)this.expandBuffer(this._length+r-this._buffer.length);N.setRange(this._buffer,this._length,this._length+r,e),this._length+=r}writeBuffer(e){for(;length+e.length>this._buffer.length;)this.expandBuffer(length+e.length-this._buffer.length);N.setRange(this._buffer,length,length+e.length,e.buffer,e.offset),this._length+=e.length}writeUint16(e){if(this._bigEndian){this.writeByte(e>>8&255),this.writeByte(e&255);return}this.writeByte(e&255),this.writeByte(e>>8&255)}writeUint32(e){if(this._bigEndian){this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(e&255);return}this.writeByte(e&255),this.writeByte(e>>8&255),this.writeByte(e>>16&255),this.writeByte(e>>24&255)}subarray(e,t){let r=e>=0?e:this._length+e,i=t!=null?t:this._length;return i<0&&(i=this._length+i),new Uint8Array(this._buffer.buffer,r,i-r)}},ne=ei;ne.BLOCK_SIZE=8192});var nt=M(()=>{"use strict";ie();de();ke();Ce()});var Kt=M(()=>{"use strict"});var Jt=M(()=>{"use strict"});var It=M(()=>{"use strict";Ze()});var er=M(()=>{"use strict"});var tr,st=M(()=>{"use strict";et();tr=class{static copyInto(e){var t,r,i,n,s,o,u,h;if((t=e.dstX)!=null||(e.dstX=0),(r=e.dstY)!=null||(e.dstY=0),(i=e.srcX)!=null||(e.srcX=0),(n=e.srcY)!=null||(e.srcY=0),(s=e.srcW)!=null||(e.srcW=e.src.width),(o=e.srcH)!=null||(e.srcH=e.src.height),(u=e.blend)!=null||(e.blend=!0),(h=e.center)!=null||(e.center=!1),e.center){{let f=e.dst.width-e.src.width;f<0&&(f=0),e.dstX=Math.floor(f/2)}{let f=e.dst.height-e.src.height;f<0&&(f=0),e.dstY=Math.floor(f/2)}}if(e.blend)for(let f=0;f<e.srcH;++f)for(let c=0;c<e.srcW;++c)vr(e.dst,e.dstX+c,e.dstY+f,e.src.getPixel(e.srcX+c,e.srcY+f));else for(let f=0;f<e.srcH;++f)for(let c=0;c<e.srcW;++c)e.dst.setPixel(e.dstX+c,e.dstY+f,e.src.getPixel(e.srcX+c,e.srcY+f));return e.dst}}});var at,ot=M(()=>{"use strict";ie();at=class{get colors(){return this._colors}get numColors(){return this._numColors}get bitsPerPixel(){return this._bitsPerPixel}set transparent(e){this._transparent=e}get transparent(){return this._transparent}constructor(e){this._numColors=e,this._colors=new Uint8Array(e*3),this._bitsPerPixel=at.bitSize(e)}static bitSize(e){for(let t=1;t<=8;t++)if(1<<t>=e)return t;return 0}getByte(e){return this._colors[e]}setByte(e,t){return this._colors[e]=t}getColor(e){let t=e*3,r=e===this._transparent?0:255;return l.getColor(this._colors[t],this._colors[t+1],this._colors[t+2],r)}setColor(e,t,r,i){let n=e*3;this._colors[n]=t,this._colors[n+1]=r,this._colors[n+2]=i}getRed(e){return this._colors[e*3]}getGreen(e){return this._colors[e*3+1]}getBlue(e){return this._colors[e*3+2]}getAlpha(e){return e===this._transparent?0:255}}});var mr,vt=M(()=>{"use strict";ot();mr=class{constructor(e){this._duration=80;this._clearFrame=!0;this._x=e.readUint16(),this._y=e.readUint16(),this._width=e.readUint16(),this._height=e.readUint16();let t=e.readByte(),r=(t&7)+1;if(this._interlaced=(t&64)!==0,(t&128)!==0){this._colorMap=new at(1<<r);for(let i=0;i<this._colorMap.numColors;++i)this._colorMap.setColor(i,e.readByte(),e.readByte(),e.readByte())}this._inputPosition=e.position}get x(){return this._x}get y(){return this._y}get width(){return this._width}get height(){return this._height}get interlaced(){return this._interlaced}get colorMap(){return this._colorMap}set duration(e){this._duration=e}get duration(){return this._duration}set clearFrame(e){this._clearFrame=e}get clearFrame(){return this._clearFrame}get inputPosition(){return this._inputPosition}}});var pr,Bt=M(()=>{"use strict";pr=class{constructor(e){this._isGif89=!1;var t,r,i,n,s,o;this._width=(t=e==null?void 0:e.width)!=null?t:0,this._height=(r=e==null?void 0:e.height)!=null?r:0,this._backgroundColor=(i=e==null?void 0:e.backgroundColor)!=null?i:4294967295,this._frames=(n=e==null?void 0:e.frames)!=null?n:new Array,this._colorResolution=(s=e==null?void 0:e.colorResolution)!=null?s:0,this._globalColorMap=e==null?void 0:e.globalColorMap,this._isGif89=(o=e==null?void 0:e.isGif89)!=null?o:!1}get width(){return this._width}get height(){return this._height}get backgroundColor(){return this._backgroundColor}get frames(){return this._frames}get colorResolution(){return this._colorResolution}get globalColorMap(){return this._globalColorMap}get isGif89(){return this._isGif89}get numFrames(){return this.frames.length}}});var O,se,ut=M(()=>{"use strict";Fe();ue();me();j();Ee();st();ot();vt();Bt();ye();O=class{constructor(e){this.repeat=0;this.bitsPerPixel=0;this.currentShiftDWord=0;this.currentShiftState=0;this.stackPtr=0;this.lastCode=0;this.maxCode1=0;this.runningBits=0;this.runningCode=0;this.eofCode=0;this.clearCode=0;e!==void 0&&this.startDecode(e)}get numFrames(){return this.info!==void 0?this.info.numFrames:0}static getPrefixChar(e,t,r){let i=t,n=0;for(;i>r&&n++<=O.LZ_MAX_CODE;){if(i>O.LZ_MAX_CODE)return O.NO_SUCH_CODE;i=e[t]}return i}static updateImage(e,t,r,i){if(r!==void 0)for(let n=0,s=i.length;n<s;++n)e.setPixel(n,t,r.getColor(i[n]))}getInfo(){if(this.input===void 0)return!1;let e=this.input.readString(O.STAMP_SIZE);if(e!==O.GIF87_STAMP&&e!==O.GIF89_STAMP)return!1;let t=this.input.readUint16(),r=this.input.readUint16(),i=this.input.readByte(),n=((i&112)+1>>4)+1,s=(i&7)+1,o=this.input.readByte();this.input.skip(1);let u;if((i&128)!==0){u=new at(1<<s);for(let f=0;f<u.numColors;++f){let c=this.input.readByte(),m=this.input.readByte(),d=this.input.readByte();u.setColor(f,c,m,d)}}let h=e===O.GIF89_STAMP;return this.info=new pr({width:t,height:r,colorResolution:n,backgroundColor:o,globalColorMap:u,isGif89:h}),!0}skipImage(){if(this.input===void 0||this.input.isEOS)return;let e=new mr(this.input);return this.input.skip(1),this.skipRemainder(),e}skipRemainder(){if(this.input===void 0||this.input.isEOS)return!0;let e=this.input.readByte();for(;e!==0&&!this.input.isEOS;){if(this.input.skip(e),this.input.isEOS)return!0;e=this.input.readByte()}return!0}readApplicationExt(e){let t=e.readByte();if(e.readString(t)==="NETSCAPE2.0"){let i=e.readByte(),n=e.readByte();i===3&&n===1&&(this.repeat=e.readUint16())}else this.skipRemainder()}readGraphicsControlExt(e){e.readByte();let t=e.readByte(),r=e.readUint16(),i=e.readByte();e.readByte();let n=t>>2&7,s=t&1;if(e.peekBytes(1).getByte(0)===O.IMAGE_DESC_RECORD_TYPE){e.skip(1);let u=this.skipImage();if(u===void 0)return;u.duration=r,u.clearFrame=n===2,s!==0&&(u.colorMap!==void 0?u.colorMap.transparent=i:this.info.globalColorMap!==void 0&&(this.info.globalColorMap.transparent=i)),this.info.frames.push(u)}}decodeFrameImage(e){this.buffer===void 0&&this.initDecode(),this.bitsPerPixel=this.input.readByte(),this.clearCode=1<<this.bitsPerPixel,this.eofCode=this.clearCode+1,this.runningCode=this.eofCode+1,this.runningBits=this.bitsPerPixel+1,this.maxCode1=1<<this.runningBits,this.stackPtr=0,this.lastCode=O.NO_SUCH_CODE,this.currentShiftState=0,this.currentShiftDWord=0,this.buffer[0]=0,this.prefix.fill(O.NO_SUCH_CODE,0,this.prefix.length);let t=e.width,r=e.height;if(e.x+t>this.info.width||e.y+r>this.info.height)return;let i=e.colorMap!==void 0?e.colorMap:this.info.globalColorMap;this.pixelCount=t*r;let n=new W({width:t,height:r}),s=new Uint8Array(t);if(e.interlaced){let o=e.y;for(let u=0,h=0;u<4;++u)for(let f=o+O.INTERLACED_OFFSET[u];f<o+r;f+=O.INTERLACED_JUMP[u],++h){if(!this.getLine(s))return n;O.updateImage(n,f,i,s)}}else for(let o=0;o<r;++o){if(!this.getLine(s))return n;O.updateImage(n,o,i,s)}return n}getLine(e){return this.pixelCount=this.pixelCount-e.length,this.decompressLine(e)?(this.pixelCount===0&&this.skipRemainder(),!0):!1}decompressLine(e){if(this.stackPtr>O.LZ_MAX_CODE)return!1;let t=e.length,r=0;if(this.stackPtr!==0)for(;this.stackPtr!==0&&r<t;)e[r++]=this.stack[--this.stackPtr];let i;for(;r<t;){if(this.currentCode=this.decompressInput(),this.currentCode===void 0||this.currentCode===this.eofCode)return!1;if(this.currentCode===this.clearCode){for(let n=0;n<=O.LZ_MAX_CODE;n++)this.prefix[n]=O.NO_SUCH_CODE;this.runningCode=this.eofCode+1,this.runningBits=this.bitsPerPixel+1,this.maxCode1=1<<this.runningBits,this.lastCode=O.NO_SUCH_CODE}else{if(this.currentCode<this.clearCode)e[r++]=this.currentCode;else{if(this.prefix[this.currentCode]===O.NO_SUCH_CODE)if(this.currentCode===this.runningCode-2){i=this.lastCode;let s=O.getPrefixChar(this.prefix,this.lastCode,this.clearCode);this.stack[this.stackPtr++]=s,this.suffix[this.runningCode-2]=s}else return!1;else i=this.currentCode;let n=0;for(;n++<=O.LZ_MAX_CODE&&i>this.clearCode&&i<=O.LZ_MAX_CODE;)this.stack[this.stackPtr++]=this.suffix[i],i=this.prefix[i];if(n>=O.LZ_MAX_CODE||i>O.LZ_MAX_CODE)return!1;for(this.stack[this.stackPtr++]=i;this.stackPtr!==0&&r<t;)e[r++]=this.stack[--this.stackPtr]}this.lastCode!==O.NO_SUCH_CODE&&this.prefix[this.runningCode-2]===O.NO_SUCH_CODE&&(this.prefix[this.runningCode-2]=this.lastCode,this.currentCode===this.runningCode-2?this.suffix[this.runningCode-2]=O.getPrefixChar(this.prefix,this.lastCode,this.clearCode):this.suffix[this.runningCode-2]=O.getPrefixChar(this.prefix,this.currentCode,this.clearCode)),this.lastCode=this.currentCode}}return!0}decompressInput(){if(this.runningBits>O.LZ_BITS)return;for(;this.currentShiftState<this.runningBits;){let t=this.bufferedInput();this.currentShiftDWord|=t<<this.currentShiftState,this.currentShiftState+=8}let e=this.currentShiftDWord&O.CODE_MASKS[this.runningBits];return this.currentShiftDWord>>=this.runningBits,this.currentShiftState-=this.runningBits,this.runningCode<O.LZ_MAX_CODE+2&&++this.runningCode>this.maxCode1&&this.runningBits<O.LZ_BITS&&(this.maxCode1<<=1,this.runningBits++),e}bufferedInput(){let e=0;if(this.buffer[0]===0){if(this.buffer[0]=this.input.readByte(),this.buffer[0]===0)return;let t=this.input.readBytes(this.buffer[0]).toUint8Array();N.setRange(this.buffer,1,1+this.buffer[0],t),e=this.buffer[1],this.buffer[1]=2,this.buffer[0]--}else e=this.buffer[this.buffer[1]++],this.buffer[0]--;return e}initDecode(){this.buffer=new Uint8Array(256),this.stack=new Uint8Array(O.LZ_MAX_CODE),this.suffix=new Uint8Array(O.LZ_MAX_CODE+1),this.prefix=new Uint32Array(O.LZ_MAX_CODE+1)}isValidFile(e){return this.input=new X({buffer:e}),this.getInfo()}startDecode(e){if(this.input=new X({buffer:e}),!!this.getInfo()){try{for(;!this.input.isEOS;)switch(this.input.readByte()){case O.IMAGE_DESC_RECORD_TYPE:{let r=this.skipImage();if(r===void 0)return this.info;this.info.frames.push(r);break}case O.EXTENSION_RECORD_TYPE:{let r=this.input.readByte();r===O.APPLICATION_EXT?this.readApplicationExt(this.input):r===O.GRAPHIC_CONTROL_EXT?this.readGraphicsControlExt(this.input):this.skipRemainder();break}case O.TERMINATE_RECORD_TYPE:return this.info;default:break}}catch(t){let r=JSON.stringify(t);throw new P(r)}return this.info}}decodeFrame(e){if(this.input===void 0||this.info===void 0||e>=this.info.frames.length||e<0)return;let t=this.info.frames[e];return this.input.offset=t.inputPosition,this.decodeFrameImage(this.info.frames[e])}decodeHdrFrame(e){let t=this.decodeFrame(e);if(t!==void 0)return fe.fromImage(t)}decodeAnimation(e){if(this.startDecode(e)===void 0||this.input===void 0||this.info===void 0)return;let t=new ze({width:this.info.width,height:this.info.height,loopCount:this.repeat}),r=new W({width:this.info.width,height:this.info.height});for(let i=0;i<this.info.numFrames;++i){r=W.from(r);let n=this.info.frames[i],s=this.decodeFrame(i);if(s===void 0)return;let o=n.colorMap!==void 0?n.colorMap:this.info.globalColorMap;n.clearFrame&&r.fill(o.getColor(this.info.backgroundColor)),tr.copyInto({dst:r,src:s,dstX:n.x,dstY:n.y}),r.duration=n.duration*10,t.addFrame(r)}return t}decodeImage(e,t=0){if(this.startDecode(e)!==void 0)return this.decodeFrame(t)}decodeHdrImage(e,t=0){let r=this.decodeImage(e,t);if(r!==void 0)return fe.fromImage(r)}},se=O;se.STAMP_SIZE=6,se.GIF87_STAMP="GIF87a",se.GIF89_STAMP="GIF89a",se.IMAGE_DESC_RECORD_TYPE=44,se.EXTENSION_RECORD_TYPE=33,se.TERMINATE_RECORD_TYPE=59,se.GRAPHIC_CONTROL_EXT=249,se.APPLICATION_EXT=255,se.LZ_MAX_CODE=4095,se.LZ_BITS=12,se.NO_SUCH_CODE=4098,se.CODE_MASKS=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095],se.INTERLACED_OFFSET=[0,4,2,1],se.INTERLACED_JUMP=[8,8,4,2]});var ft=M(()=>{"use strict"});var ji,rr,Ct=M(()=>{"use strict";ft();ji=class{static getDitherPixels(e,t,r,i){if(r===0)return t.getIndexMap(e);let n=ji.ditherKernels[r],s=e.height,o=e.width,u=new Uint8Array(e.getBytes()),h=new Uint8Array(o*s),f=t.colorMap8,c=i?-1:1,m=0;for(let d=0;d<s;d++){i&&(c*=-1);let p=c===1?0:o-1,A=c===1?o:0;for(let b=p;b!==A;b+=c,++m){let x=m*4,w=u[x],I=u[x+1],C=u[x+2];x=t.lookupRGB(w,I,C),h[m]=x,x*=3;let T=f[x],k=f[x+1],S=f[x+2],E=w-T,D=I-k,F=C-S;if(E!==0||D!==0||F!==0){let U=c===1?0:n.length-1,R=c===1?n.length:0;for(let z=U;z!==R;z+=c){let G=Math.trunc(n[z][1]),Z=Math.trunc(n[z][2]);if(G+b>=0&&G+b<o&&Z+d>=0&&Z+d<s){let q=n[z][0];x=m+G+Z*o,x*=4,u[x]=Math.max(0,Math.min(255,Math.trunc(u[x]+E*q))),u[x+1]=Math.max(0,Math.min(255,Math.trunc(u[x+1]+D*q))),u[x+2]=Math.max(0,Math.min(255,Math.trunc(u[x+2]+F*q)))}}}}}return h}},rr=ji;rr.ditherKernels=[[[0,0,0],[0,0,0],[0,0,0]],[[3/8,1,0],[3/8,0,1],[2/8,1,1]],[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]]});var H,Q,Mt=M(()=>{"use strict";ie();H=class{constructor(e,t=256,r=10){this.netIndex=new Int32Array(256);this.netSize=16;this.specials=3;this.bgColor=0;this.cutNetSize=0;this.maxNetPos=0;this.initRadius=0;this.initBiasRadius=0;this.samplingFactor=r,this.initialize(t),this.addImage(e)}get colorMap8(){return this._colorMap8}get colorMap32(){return this._colorMap32}get numColors(){return this.netSize}initialize(e){this.netSize=Math.max(e,4),this.cutNetSize=this.netSize-this.specials,this.maxNetPos=this.netSize-1,this.initRadius=Math.floor(this.netSize/8),this.initBiasRadius=this.initRadius*H.radiusBias,this._colorMap32=new Int32Array(this.netSize*4),this._colorMap8=new Uint8Array(this.netSize*3),this.specials=3,this.bgColor=this.specials-1,this.radiusPower=new Int32Array(this.netSize>>3),this.network=new Array(this.netSize*3).fill(0),this.bias=new Array(this.netSize).fill(0),this.freq=new Array(this.netSize).fill(0),this.network[0]=0,this.network[1]=0,this.network[2]=0,this.network[3]=255,this.network[4]=255,this.network[5]=255;let t=1/this.netSize;for(let r=0;r<this.specials;++r)this.freq[r]=t,this.bias[r]=0;for(let r=this.specials,i=this.specials*3;r<this.netSize;++r)this.network[i++]=255*(r-this.specials)/this.cutNetSize,this.network[i++]=255*(r-this.specials)/this.cutNetSize,this.network[i++]=255*(r-this.specials)/this.cutNetSize,this.freq[r]=t,this.bias[r]=0}updateRadiusPower(e,t){for(let r=0;r<e;r++)this.radiusPower[r]=Math.trunc(t*((e*e-r*r)*H.radiusBias/(e*e)))}specialFind(e,t,r){for(let i=0,n=0;i<this.specials;i++)if(this.network[n++]===e&&this.network[n++]===t&&this.network[n++]===r)return i;return-1}contest(e,t,r){let i=1e30,n=i,s=-1,o=s;for(let u=this.specials,h=this.specials*3;u<this.netSize;u++){let f=this.network[h++]-e;f<0&&(f=-f);let c=this.network[h++]-t;c<0&&(c=-c),f+=c,c=this.network[h++]-r,c<0&&(c=-c),f+=c,f<i&&(i=f,s=u);let m=f-this.bias[u];m<n&&(n=m,o=u),this.freq[u]-=H.beta*this.freq[u],this.bias[u]+=H.betaGamma*this.freq[u]}return this.freq[s]+=H.beta,this.bias[s]-=H.betaGamma,o}alterSingle(e,t,r,i,n){let s=t*3;this.network[s]-=e*(this.network[s]-r),this.network[s+1]-=e*(this.network[s+1]-i),this.network[s+2]-=e*(this.network[s+2]-n)}alterNeighbors(e,t,r,i,n,s){let o=r-t;o<this.specials-1&&(o=this.specials-1);let u=r+t;u>this.netSize&&(u=this.netSize);let h=r+1,f=r-1,c=1;for(;h<u||f>o;){let m=this.radiusPower[c++];if(h<u){let d=h*3;this.network[d]-=m*(this.network[d]-i)/H.alphaRadiusBias,this.network[d+1]-=m*(this.network[d+1]-n)/H.alphaRadiusBias,this.network[d+2]-=m*(this.network[d+2]-s)/H.alphaRadiusBias,h++}if(f>o){let d=f*3;this.network[d]-=m*(this.network[d]-i)/H.alphaRadiusBias,this.network[d+1]-=m*(this.network[d+1]-n)/H.alphaRadiusBias,this.network[d+2]-=m*(this.network[d+2]-s)/H.alphaRadiusBias,f--}}}learn(e){let t=this.initBiasRadius,r=30+Math.floor((this.samplingFactor-1)/3),i=e.length,n=Math.floor(i/this.samplingFactor),s=Math.max(Math.floor(n/H.numCycles),1),o=H.initAlpha;s===0&&(s=1);let u=t>>H.radiusBiasShift;u<=1&&(u=0),this.updateRadiusPower(u,o);let h=0,f=0;i<H.smallImageBytes?(this.samplingFactor=1,h=1):i%H.prime1!==0?h=H.prime1:i%H.prime2!==0?h=H.prime2:i%H.prime3!==0?h=H.prime3:h=H.prime4;let c=0;for(;c<n;){let m=e.getPixelByIndex(f),d=l.getRed(m),p=l.getGreen(m),A=l.getBlue(m);c===0&&(this.network[this.bgColor*3]=A,this.network[this.bgColor*3+1]=p,this.network[this.bgColor*3+2]=d);let b=this.specialFind(A,p,d);if(b=b<0?this.contest(A,p,d):b,b>=this.specials){let x=Number(o)/H.initAlpha;this.alterSingle(x,b,A,p,d),u>0&&this.alterNeighbors(x,u,b,A,p,d)}for(f+=h;f>=i;)f-=i;c++,c%s===0&&(o-=Math.floor(o/r),t-=Math.floor(t/H.radiusDec),u=t>>H.radiusBiasShift,u<=1&&(u=0),this.updateRadiusPower(u,o))}}fix(){for(let e=0,t=0,r=0;e<this.netSize;e++,r+=4){for(let i=0;i<3;++i,++t){let n=Math.trunc(.5+this.network[t]);n<0&&(n=0),n>255&&(n=255),this._colorMap32[r+i]=n}this._colorMap32[r+3]=e}}inxBuild(){let e=0,t=0;for(let r=0,i=0;r<this.netSize;r++,i+=4){let n=r,s=this._colorMap32[i+1];for(let u=r+1,h=i+4;u<this.netSize;u++,h+=4)this._colorMap32[h+1]<s&&(n=u,s=this._colorMap32[h+1]);let o=n*4;if(r!==n){let u=this._colorMap32[o];this._colorMap32[o]=this._colorMap32[i],this._colorMap32[i]=u,u=this._colorMap32[o+1],this._colorMap32[o+1]=this._colorMap32[i+1],this._colorMap32[i+1]=u,u=this._colorMap32[o+2],this._colorMap32[o+2]=this._colorMap32[i+2],this.colorMap32[i+2]=u,u=this._colorMap32[o+3],this._colorMap32[o+3]=this._colorMap32[i+3],this._colorMap32[i+3]=u}if(s!==e){this.netIndex[e]=t+r>>1;for(let u=e+1;u<s;u++)this.netIndex[u]=r;e=s,t=r}}this.netIndex[e]=t+this.maxNetPos>>1;for(let r=e+1;r<256;r++)this.netIndex[r]=this.maxNetPos}copyColorMap(){for(let e=0,t=0,r=0;e<this.netSize;++e)this._colorMap8[t++]=Math.abs(this._colorMap32[r+2])&255,this._colorMap8[t++]=Math.abs(this._colorMap32[r+1])&255,this._colorMap8[t++]=Math.abs(this._colorMap32[r])&255,r+=4}addImage(e){this.learn(e),this.fix(),this.inxBuild(),this.copyColorMap()}inxSearch(e,t,r){let i=1e3,n=-1,s=this.netIndex[t],o=s-1;for(;s<this.netSize||o>=0;){if(s<this.netSize){let u=s*4,h=this._colorMap32[u+1]-t;if(h>=i)s=this.netSize;else{h<0&&(h=-h);let f=this._colorMap32[u]-e;f<0&&(f=-f),h+=f,h<i&&(f=this._colorMap32[u+2]-r,f<0&&(f=-f),h+=f,h<i&&(i=h,n=s)),s++}}if(o>=0){let u=o*4,h=t-this._colorMap32[u+1];if(h>=i)o=-1;else{h<0&&(h=-h);let f=this._colorMap32[u]-e;f<0&&(f=-f),h+=f,h<i&&(f=this._colorMap32[u+2]-r,f<0&&(f=-f),h+=f,h<i&&(i=h,n=o)),o--}}}return n}color(e){return l.getColor(this._colorMap8[e*3],this._colorMap8[e*3+1],this._colorMap8[e*3+2])}lookup(e){let t=l.getRed(e),r=l.getGreen(e),i=l.getBlue(e);return this.inxSearch(i,r,t)}lookupRGB(e,t,r){return this.inxSearch(r,t,e)}getQuantizedColor(e){let t=l.getRed(e),r=l.getGreen(e),i=l.getBlue(e),n=l.getAlpha(e),s=this.inxSearch(i,r,t)*3;return l.getColor(this._colorMap8[s],this._colorMap8[s+1],this._colorMap8[s+2],n)}getIndexMap(e){let t=new Uint8Array(e.width*e.height);for(let r=0,i=e.length;r<i;++r)t[r]=this.lookup(e.getPixelByIndex(r));return t}},Q=H;Q.numCycles=100,Q.alphaBiasShift=10,Q.initAlpha=1<<H.alphaBiasShift,Q.radiusBiasShift=8,Q.radiusBias=1<<H.radiusBiasShift,Q.alphaRadiusBiasShift=H.alphaBiasShift+H.radiusBiasShift,Q.alphaRadiusBias=1<<H.alphaRadiusBiasShift,Q.radiusDec=30,Q.gamma=1024,Q.beta=1/1024,Q.betaGamma=H.beta*H.gamma,Q.prime1=499,Q.prime2=491,Q.prime3=487,Q.prime4=503,Q.smallImageBytes=3*H.prime4});var he,pe,ht=M(()=>{"use strict";Pe();ft();Ct();Mt();Ce();he=class{constructor(e){this.curAccum=0;this.curBits=0;this.nBits=0;this.initBits=0;this.EOFCode=0;this.maxCode=0;this.clearCode=0;this.freeEnt=0;this.clearFlag=!1;this.blockSize=0;this._supportsAnimation=!0;var t,r,i,n,s;this.delay=(t=e==null?void 0:e.delay)!=null?t:80,this.repeat=(r=e==null?void 0:e.repeat)!=null?r:0,this.samplingFactor=(i=e==null?void 0:e.samplingFactor)!=null?i:10,this.dither=(n=e==null?void 0:e.dither)!=null?n:2,this.ditherSerpentine=(s=e==null?void 0:e.ditherSerpentine)!=null?s:!1,this.encodedFrames=0}get supportsAnimation(){return this._supportsAnimation}addImage(e,t,r,i,n){this.outputBuffer.writeByte(he.imageDescRecordType),this.outputBuffer.writeUint16(0),this.outputBuffer.writeUint16(0),this.outputBuffer.writeUint16(t),this.outputBuffer.writeUint16(r),this.outputBuffer.writeByte(135),this.outputBuffer.writeBytes(i);for(let s=n;s<256;++s)this.outputBuffer.writeByte(0),this.outputBuffer.writeByte(0),this.outputBuffer.writeByte(0);this.encodeLZW(e,t,r)}encodeLZW(e,t,r){this.curAccum=0,this.curBits=0,this.blockSize=0,this.block=new Uint8Array(256);let i=8;this.outputBuffer.writeByte(i);let n=new Int32Array(he.hsize),s=new Int32Array(he.hsize),o=t*r,u=0;this.initBits=i+1,this.nBits=this.initBits,this.maxCode=(1<<this.nBits)-1,this.clearCode=1<<this.initBits-1,this.EOFCode=this.clearCode+1,this.clearFlag=!1,this.freeEnt=this.clearCode+2;let h=()=>o===0?he.eof:(--o,e[u++]&255),f=h(),c=0;for(let p=he.hsize;p<65536;p*=2)c++;c=8-c;let m=he.hsize;for(let p=0;p<m;++p)n[p]=-1;this.output(this.clearCode);let d=!0;for(;d;){d=!1;let p=h();for(;p!==he.eof;){let A=(p<<he.bits)+f,b=p<<c^f;if(n[b]===A){f=s[b],p=h();continue}else if(n[b]>=0){let x=m-b;b===0&&(x=1);do if((b-=x)<0&&(b+=m),n[b]===A){f=s[b],d=!0;break}while(n[b]>=0);if(d)break}if(this.output(f),f=p,this.freeEnt<1<<he.bits)s[b]=this.freeEnt++,n[b]=A;else{for(let x=0;x<he.hsize;++x)n[x]=-1;this.freeEnt=this.clearCode+2,this.clearFlag=!0,this.output(this.clearCode)}p=h()}}this.output(f),this.output(this.EOFCode),this.outputBuffer.writeByte(0)}output(e){for(this.curAccum&=he.masks[this.curBits],this.curBits>0?this.curAccum|=e<<this.curBits:this.curAccum=e,this.curBits+=this.nBits;this.curBits>=8;)this.addToBlock(this.curAccum&255),this.curAccum>>=8,this.curBits-=8;if((this.freeEnt>this.maxCode||this.clearFlag)&&(this.clearFlag?(this.nBits=this.initBits,this.maxCode=(1<<this.nBits)-1,this.clearFlag=!1):(++this.nBits,this.nBits===he.bits?this.maxCode=1<<he.bits:this.maxCode=(1<<this.nBits)-1)),e===this.EOFCode){for(;this.curBits>0;)this.addToBlock(this.curAccum&255),this.curAccum>>=8,this.curBits-=8;this.writeBlock()}}writeBlock(){this.blockSize>0&&(this.outputBuffer.writeByte(this.blockSize),this.outputBuffer.writeBytes(this.block,this.blockSize),this.blockSize=0)}addToBlock(e){this.block[this.blockSize++]=e,this.blockSize>=254&&this.writeBlock()}writeApplicationExt(){this.outputBuffer.writeByte(he.extensionRecordType),this.outputBuffer.writeByte(he.applicationExt),this.outputBuffer.writeByte(11);let e=K.getCodePoints("NETSCAPE2.0");this.outputBuffer.writeBytes(e),this.outputBuffer.writeBytes(new Uint8Array([3,1])),this.outputBuffer.writeUint16(this.repeat),this.outputBuffer.writeByte(0)}writeGraphicsCtrlExt(){var r;this.outputBuffer.writeByte(he.extensionRecordType),this.outputBuffer.writeByte(he.graphicControlExt),this.outputBuffer.writeByte(4);let e=0,t=0;this.outputBuffer.writeByte(0|t|0|e),this.outputBuffer.writeUint16((r=this.lastImageDuration)!=null?r:this.delay),this.outputBuffer.writeByte(0),this.outputBuffer.writeByte(0)}writeHeader(e,t){let r=K.getCodePoints(he.gif89Id);this.outputBuffer.writeBytes(r),this.outputBuffer.writeUint16(e),this.outputBuffer.writeUint16(t),this.outputBuffer.writeByte(0),this.outputBuffer.writeByte(0),this.outputBuffer.writeByte(0)}finish(){let e;return this.outputBuffer===void 0||(this.encodedFrames===0?(this.writeHeader(this.width,this.height),this.writeApplicationExt()):this.writeGraphicsCtrlExt(),this.addImage(this.lastImage,this.width,this.height,this.lastColorMap.colorMap8,256),this.outputBuffer.writeByte(he.terminateRecordType),this.lastImage=void 0,this.lastColorMap=void 0,this.encodedFrames=0,e=this.outputBuffer.getBytes(),this.outputBuffer=void 0),e}addFrame(e,t){if(this.outputBuffer===void 0){this.outputBuffer=new ne,this.lastColorMap=new Q(e,256,this.samplingFactor),this.lastImage=rr.getDitherPixels(e,this.lastColorMap,this.dither,this.ditherSerpentine),this.lastImageDuration=t,this.width=e.width,this.height=e.height;return}this.encodedFrames===0&&(this.writeHeader(this.width,this.height),this.writeApplicationExt()),this.writeGraphicsCtrlExt(),this.addImage(this.lastImage,this.width,this.height,this.lastColorMap.colorMap8,256),this.encodedFrames++,this.lastColorMap=new Q(e,256,this.samplingFactor),this.lastImage=rr.getDitherPixels(e,this.lastColorMap,this.dither,this.ditherSerpentine),this.lastImageDuration=t}encodeImage(e){return this.addFrame(e),this.finish()}encodeAnimation(e){this.repeat=e.loopCount;for(let t of e)this.addFrame(t,Math.floor(t.duration/10));return this.finish()}},pe=he;pe.gif89Id="GIF89a",pe.imageDescRecordType=44,pe.extensionRecordType=33,pe.terminateRecordType=59,pe.applicationExt=255,pe.graphicControlExt=249,pe.eof=-1,pe.bits=12,pe.hsize=5003,pe.masks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535]});var Ut=M(()=>{"use strict";it()});var St=M(()=>{"use strict"});var Ft=M(()=>{"use strict";St()});var xe,Et=M(()=>{"use strict";xe=class{constructor(e){this._fdat=[];this._sequenceNumber=e==null?void 0:e.sequenceNumber,this._width=e==null?void 0:e.width,this._height=e==null?void 0:e.height,this._xOffset=e==null?void 0:e.xOffset,this._yOffset=e==null?void 0:e.yOffset,this._delayNum=e==null?void 0:e.delayNum,this._delayDen=e==null?void 0:e.delayDen,this._dispose=e==null?void 0:e.dispose,this._blend=e==null?void 0:e.blend}get fdat(){return this._fdat}get sequenceNumber(){return this._sequenceNumber}get width(){return this._width}get height(){return this._height}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get delayNum(){return this._delayNum}get delayDen(){return this._delayDen}get dispose(){return this._dispose}get blend(){return this._blend}};xe.APNG_DISPOSE_OP_NONE=0,xe.APNG_DISPOSE_OP_BACKGROUND=1,xe.APNG_DISPOSE_OP_PREVIOUS=2,xe.APNG_BLEND_OP_SOURCE=0,xe.APNG_BLEND_OP_OVER=1});var hr,Pt=M(()=>{"use strict";hr=class{constructor(e){this._width=0;this._height=0;this._backgroundColor=16777215;this._numFrames=1;this._iCCPName="";this._iCCPCompression=0;this._textData=new Map;this._repeat=0;this._idat=[];this._frames=[];var t,r;this._width=(t=e==null?void 0:e.width)!=null?t:0,this._height=(r=e==null?void 0:e.height)!=null?r:0,this._bits=e==null?void 0:e.bits,this._colorType=e==null?void 0:e.colorType,this._compressionMethod=e==null?void 0:e.compressionMethod,this._filterMethod=e==null?void 0:e.filterMethod,this._interlaceMethod=e==null?void 0:e.interlaceMethod}set width(e){this._width=e}get width(){return this._width}set height(e){this._height=e}get height(){return this._height}set backgroundColor(e){this._backgroundColor=e}get backgroundColor(){return this._backgroundColor}set numFrames(e){this._numFrames=e}get numFrames(){return this._numFrames}get bits(){return this._bits}get colorType(){return this._colorType}get compressionMethod(){return this._compressionMethod}get filterMethod(){return this._filterMethod}get interlaceMethod(){return this._interlaceMethod}set palette(e){this._palette=e}get palette(){return this._palette}set transparency(e){this._transparency=e}get transparency(){return this._transparency}set colorLut(e){this._colorLut=e}get colorLut(){return this._colorLut}set gamma(e){this._gamma=e}get gamma(){return this._gamma}set iCCPName(e){this._iCCPName=e}get iCCPName(){return this._iCCPName}set iCCPCompression(e){this._iCCPCompression=e}get iCCPCompression(){return this._iCCPCompression}set iCCPData(e){this._iCCPData=e}get iCCPData(){return this._iCCPData}get textData(){return this._textData}set repeat(e){this._repeat=e}get repeat(){return this._repeat}get idat(){return this._idat}get frames(){return this._frames}get isAnimated(){return this._frames.length>0}}});var pn,B,ce,qe=M(()=>{"use strict";pn=mi(bi());Ke();ie();Ge();Fe();Ve();ct();ue();me();de();Pe();j();Re();Ee();st();Et();Pt();ye();B=class{constructor(){this._progressY=0;this._bitBuffer=0;this._bitBufferLen=0}get info(){return this._info}get input(){return this._input}get progressY(){return this._progressY}get bitBuffer(){return this._bitBuffer}get bitBufferLen(){return this._bitBufferLen}get numFrames(){return this._info!==void 0?this._info.numFrames:0}static unfilter(e,t,r,i){let n=r.length;switch(e){case B.FILTER_NONE:break;case B.FILTER_SUB:for(let s=t;s<n;++s)r[s]=r[s]+r[s-t]&255;break;case B.FILTER_UP:for(let s=0;s<n;++s)r[s]=r[s]+i[s]&255;break;case B.FILTER_AVERAGE:for(let s=0;s<n;++s){let o=s<t?0:r[s-t],u=i[s];r[s]=r[s]+(o+u>>1)&255}break;case B.FILTER_PAETH:for(let s=0;s<n;++s){let o=s<t?0:r[s-t],u=i[s],h=s<t?0:i[s-t],f=o+u-h,c=Math.abs(f-o),m=Math.abs(f-u),d=Math.abs(f-h),p=0;c<=m&&c<=d?p=o:m<=d?p=u:p=h,r[s]=r[s]+p&255}break;default:throw new P(`Invalid filter value: ${e}`)}}static convert16to8(e){return e>>8}static convert1to8(e){return e===0?0:255}static convert2to8(e){return e*85}static convert4to8(e){return e<<4}static crc(e,t){let r=K.getCodePoints(e),i=Te.getChecksum({buffer:r});return Te.getChecksum({buffer:t,baseCrc:i})}processPass(e,t,r,i,n,s,o,u){let h=1;this._info.colorType===B.GRAYSCALE_ALPHA?h=2:this._info.colorType===B.RGB?h=3:this._info.colorType===B.RGBA&&(h=4);let f=h*this._info.bits,c=f+7>>3,m=f*o+7>>3,d=new Uint8Array(m),p=[d,d],A=[0,0,0,0];for(let b=0,x=i,w=0;b<u;++b,x+=s,w=1-w,this._progressY++){let I=e.readByte();p[w]=e.readBytes(m).toUint8Array();let C=p[w],T=p[1-w];B.unfilter(I,c,C,T),this.resetBits();let k=new X({buffer:C,bigEndian:!0}),S=n,E=n-r;for(let D=0,F=r;D<o;++D,F+=n){this.readPixel(k,A);let U=this.getColor(A);if(t.setPixel(F,x,U),E>1||S>1)for(let R=0;R<S;++R)for(let z=0;z<E;++z)t.setPixelSafe(F+z,x+z,U)}}}process(e,t){let r=1;this._info.colorType===B.GRAYSCALE_ALPHA?r=2:this._info.colorType===B.RGB?r=3:this._info.colorType===B.RGBA&&(r=4);let i=r*this._info.bits,n=this._info.width,s=this._info.height,o=n*i+7>>3,u=i+7>>3,h=new Uint8Array(o),f=[h,h],c=[0,0,0,0];for(let m=0,d=0,p=0;m<s;++m,p=1-p){let A=e.readByte();f[p]=e.readBytes(o).toUint8Array();let b=f[p],x=f[1-p];B.unfilter(A,u,b,x),this.resetBits();let w=new X({buffer:f[p],bigEndian:!0});for(let I=0;I<n;++I)this.readPixel(w,c),t.setPixelByIndex(d++,this.getColor(c))}}resetBits(){this._bitBuffer=0,this._bitBufferLen=0}readBits(e,t){if(t===0)return 0;if(t===8)return e.readByte();if(t===16)return e.readUint16();for(;this._bitBufferLen<t;){if(e.isEOS)throw new P("Invalid PNG data.");let n=e.readByte();this._bitBuffer=n<<this._bitBufferLen,this._bitBufferLen+=8}let r=0;switch(t){case 1:r=1;break;case 2:r=3;break;case 4:r=15;break;case 8:r=255;break;case 16:r=65535;break;default:r=0;break}let i=this._bitBuffer>>this._bitBufferLen-t&r;return this._bitBufferLen-=t,i}readPixel(e,t){switch(this._info.colorType){case B.GRAYSCALE:t[0]=this.readBits(e,this._info.bits);return;case B.RGB:t[0]=this.readBits(e,this._info.bits),t[1]=this.readBits(e,this._info.bits),t[2]=this.readBits(e,this._info.bits);return;case B.INDEXED:t[0]=this.readBits(e,this._info.bits);return;case B.GRAYSCALE_ALPHA:t[0]=this.readBits(e,this._info.bits),t[1]=this.readBits(e,this._info.bits);return;case B.RGBA:t[0]=this.readBits(e,this._info.bits),t[1]=this.readBits(e,this._info.bits),t[2]=this.readBits(e,this._info.bits),t[3]=this.readBits(e,this._info.bits);return}throw new tt(`Invalid color type: ${this._info.colorType}.`)}getColor(e){switch(this._info.colorType){case B.GRAYSCALE:{let t=0;switch(this._info.bits){case 1:t=B.convert1to8(e[0]);break;case 2:t=B.convert2to8(e[0]);break;case 4:t=B.convert4to8(e[0]);break;case 8:t=e[0];break;case 16:t=B.convert16to8(e[0]);break}if(t=this._info.colorLut[t],this._info.transparency!==void 0){let r=(this._info.transparency[0]&255)<<24|this._info.transparency[1]&255;if(e[0]===r)return l.getColor(t,t,t,0)}return l.getColor(t,t,t)}case B.RGB:{let t=0,r=0,i=0;switch(this._info.bits){case 1:t=B.convert1to8(e[0]),r=B.convert1to8(e[1]),i=B.convert1to8(e[2]);break;case 2:t=B.convert2to8(e[0]),r=B.convert2to8(e[1]),i=B.convert2to8(e[2]);break;case 4:t=B.convert4to8(e[0]),r=B.convert4to8(e[1]),i=B.convert4to8(e[2]);break;case 8:t=e[0],r=e[1],i=e[2];break;case 16:t=B.convert16to8(e[0]),r=B.convert16to8(e[1]),i=B.convert16to8(e[2]);break}if(t=this._info.colorLut[t],r=this._info.colorLut[r],i=this._info.colorLut[i],this._info.transparency!==void 0){let n=(this._info.transparency[0]&255)<<8|this._info.transparency[1]&255,s=(this._info.transparency[2]&255)<<8|this._info.transparency[3]&255,o=(this._info.transparency[4]&255)<<8|this._info.transparency[5]&255;if(e[0]===n&&e[1]===s&&e[2]===o)return l.getColor(t,r,i,0)}return l.getColor(t,r,i)}case B.INDEXED:{let t=e[0]*3,r=this._info.transparency!==void 0&&e[0]<this._info.transparency.length?this._info.transparency[e[0]]:255;if(t>=this._info.palette.length)return l.getColor(255,255,255,r);let i=this._info.palette[t],n=this._info.palette[t+1],s=this._info.palette[t+2];return l.getColor(i,n,s,r)}case B.GRAYSCALE_ALPHA:{let t=0,r=0;switch(this._info.bits){case 1:t=B.convert1to8(e[0]),r=B.convert1to8(e[1]);break;case 2:t=B.convert2to8(e[0]),r=B.convert2to8(e[1]);break;case 4:t=B.convert4to8(e[0]),r=B.convert4to8(e[1]);break;case 8:t=e[0],r=e[1];break;case 16:t=B.convert16to8(e[0]),r=B.convert16to8(e[1]);break}return t=this._info.colorLut[t],l.getColor(t,t,t,r)}case B.RGBA:{let t=0,r=0,i=0,n=0;switch(this._info.bits){case 1:t=B.convert1to8(e[0]),r=B.convert1to8(e[1]),i=B.convert1to8(e[2]),n=B.convert1to8(e[3]);break;case 2:t=B.convert2to8(e[0]),r=B.convert2to8(e[1]),i=B.convert2to8(e[2]),n=B.convert2to8(e[3]);break;case 4:t=B.convert4to8(e[0]),r=B.convert4to8(e[1]),i=B.convert4to8(e[2]),n=B.convert4to8(e[3]);break;case 8:t=e[0],r=e[1],i=e[2],n=e[3];break;case 16:t=B.convert16to8(e[0]),r=B.convert16to8(e[1]),i=B.convert16to8(e[2]),n=B.convert16to8(e[3]);break}return t=this._info.colorLut[t],r=this._info.colorLut[r],i=this._info.colorLut[i],l.getColor(t,r,i,n)}}throw new P(`Invalid color type: ${this._info.colorType}.`)}isValidFile(e){let r=new X({buffer:e,bigEndian:!0}).readBytes(8),i=[137,80,78,71,13,10,26,10];for(let n=0;n<8;++n)if(r.getByte(n)!==i[n])return!1;return!0}startDecode(e){this._input=new X({buffer:e,bigEndian:!0});let t=this._input.readBytes(8),r=[137,80,78,71,13,10,26,10];for(let i=0;i<8;++i)if(t.getByte(i)!==r[i])return;for(;;){let i=this._input.position,n=this._input.readUint32(),s=this._input.readString(4);switch(s){case"tEXt":{this._info===void 0&&(this._info=new hr);let o=this._input.readBytes(n).toUint8Array();for(let u=0,h=o.length;u<h;++u)if(o[u]===0){let f=K.latin1Decoder.decode(N.copyUint8(o,0,u)),c=K.latin1Decoder.decode(N.copyUint8(o,u+1));this._info.textData.set(f,c);break}this._input.skip(4);break}case"IHDR":{let o=X.from(this._input.readBytes(n)),u=o.toUint8Array(),h=o.readUint32(),f=o.readUint32(),c=o.readByte(),m=o.readByte(),d=o.readByte(),p=o.readByte(),A=o.readByte();if(this._info=new hr({width:h,height:f,bits:c,colorType:m,compressionMethod:d,filterMethod:p,interlaceMethod:A}),![B.GRAYSCALE,B.RGB,B.INDEXED,B.GRAYSCALE_ALPHA,B.RGBA].includes(this._info.colorType)||this._info.filterMethod!==0)return;switch(this._info.colorType){case B.GRAYSCALE:if(![1,2,4,8,16].includes(this._info.bits))return;break;case B.RGB:if(![8,16].includes(this._info.bits))return;break;case B.INDEXED:if(![1,2,4,8].includes(this._info.bits))return;break;case B.GRAYSCALE_ALPHA:if(![8,16].includes(this._info.bits))return;break;case B.RGBA:if(![8,16].includes(this._info.bits))return;break}let b=this._input.readUint32(),x=B.crc(s,u);if(b!==x)throw new P(`Invalid ${s} checksum`);break}case"PLTE":{this._info.palette=this._input.readBytes(n).toUint8Array();let o=this._input.readUint32(),u=B.crc(s,this._info.palette);if(o!==u)throw new P(`Invalid ${s} checksum`);break}case"tRNS":{this._info.transparency=this._input.readBytes(n).toUint8Array();let o=this._input.readUint32(),u=B.crc(s,this._info.transparency);if(o!==u)throw new P(`Invalid ${s} checksum`);break}case"IEND":{this._input.skip(4);break}case"gAMA":{if(n!==4)throw new P("Invalid gAMA chunk");let o=this._input.readUint32();this._input.skip(4),o!==1e5&&(this._info.gamma=o/1e5);break}case"IDAT":{this._info.idat.push(i),this._input.skip(n),this._input.skip(4);break}case"acTL":{this._info.numFrames=this._input.readUint32(),this._info.repeat=this._input.readUint32(),this._input.skip(4);break}case"fcTL":{let o=this._input.readUint32(),u=this._input.readUint32(),h=this._input.readUint32(),f=this._input.readUint32(),c=this._input.readUint32(),m=this._input.readUint16(),d=this._input.readUint16(),p=this._input.readByte(),A=this._input.readByte();this._input.skip(4);let b=new xe({sequenceNumber:o,width:u,height:h,xOffset:f,yOffset:c,delayNum:m,delayDen:d,dispose:p,blend:A});this._info.frames.push(b);break}case"fdAT":{this._input.readUint32(),this._info.frames[this._info.frames.length-1].fdat.push(i),this._input.skip(n-4),this._input.skip(4);break}case"bKGD":{if(this._info.colorType===3){let o=this._input.readByte();n--;let u=o*3,h=this._info.palette[u],f=this._info.palette[u+1],c=this._info.palette[u+2];this._info.backgroundColor=ur.fromRgb(h,f,c)}else this._info.colorType===0||this._info.colorType===4?(this._input.readUint16(),n-=2):(this._info.colorType===2||this._info.colorType===6)&&(this._input.readUint16(),this._input.readUint16(),this._input.readUint16(),n-=24);n>0&&this._input.skip(n),this._input.skip(4);break}case"iCCP":{this._info.iCCPName=this._input.readString(),this._info.iCCPCompression=this._input.readByte(),n-=this._info.iCCPName.length+2;let o=this._input.readBytes(n);this._info.iCCPData=o.toUint8Array(),this._input.skip(4);break}default:{this._input.skip(n),this._input.skip(4);break}}if(s==="IEND")break;if(this._input.isEOS)return}return this._info}decodeFrame(e){if(this._input===void 0||this._info===void 0)return;let t=new Uint8Array,r=this._info.width,i=this._info.height;if(!this._info.isAnimated||e===0)for(let d=0,p=this._info.idat.length;d<p;++d){this._input.offset=this._info.idat[d];let A=this._input.readUint32(),b=this._input.readString(4),x=this._input.readBytes(A).toUint8Array();t=new Uint8Array([...t,...x]);let w=this._input.readUint32(),I=B.crc(b,x);if(w!==I)throw new P(`Invalid ${b} checksum`)}else{if(e<0||e>=this._info.frames.length)throw new P(`Invalid Frame Number: ${e}`);let d=this._info.frames[e];r=d.width,i=d.height;for(let p=0;p<d.fdat.length;++p){this._input.offset=d.fdat[p];let A=this._input.readUint32();this._input.readString(4),this._input.skip(4);let b=this._input.readBytes(A).toUint8Array();t=new Uint8Array([...t,...b])}}let n=this._info.colorType===B.GRAYSCALE_ALPHA||this._info.colorType===B.RGBA||this._info.transparency!==void 0?1:0,s=new W({width:r,height:i,rgbChannelSet:n}),o=(0,pn.inflate)(t),u=new X({buffer:o,bigEndian:!0});if(this.resetBits(),this._info.colorLut===void 0){this._info.colorLut=[];for(let d=0;d<256;d++){let p=d;this._info.colorLut.push(p)}if(this._info.palette!==void 0&&this._info.gamma!==void 0)for(let d=0;d<this._info.palette.length;++d)this._info.palette[d]=this._info.colorLut[this._info.palette[d]]}let h=this._info.width,f=this._info.height;this._info.width=r,this._info.height=i;let c=r,m=i;return this._progressY=0,this._info.interlaceMethod!==0?(this.processPass(u,s,0,0,8,8,c+7>>3,m+7>>3),this.processPass(u,s,4,0,8,8,c+3>>3,m+7>>3),this.processPass(u,s,0,4,4,8,c+3>>2,m+3>>3),this.processPass(u,s,2,0,4,4,c+1>>2,m+3>>2),this.processPass(u,s,0,2,2,4,c+1>>1,m+1>>2),this.processPass(u,s,1,0,2,2,c>>1,m+1>>1),this.processPass(u,s,0,1,1,2,c,m>>1)):this.process(u,s),this._info.width=h,this._info.height=f,this._info.iCCPData!==void 0&&(s.iccProfile=new Dt(this._info.iCCPName,1,this._info.iCCPData)),this._info.textData.size>0&&s.addTextData(this._info.textData),s}decodeHdrFrame(e){let t=this.decodeFrame(e);if(t!==void 0)return fe.fromImage(t)}decodeAnimation(e){if(this.startDecode(e)===void 0)return;let t=new ze({width:this._info.width,height:this._info.height});if(!this._info.isAnimated){let n=this.decodeFrame(0);return t.addFrame(n),t}let r=xe.APNG_DISPOSE_OP_BACKGROUND,i=new W({width:this._info.width,height:this._info.height});for(let n=0;n<this._info.numFrames;++n){i=W.from(i);let s=this._info.frames[n],o=this.decodeFrame(n);o!==void 0&&((r===xe.APNG_DISPOSE_OP_BACKGROUND||r===xe.APNG_DISPOSE_OP_PREVIOUS)&&i.fill(this._info.backgroundColor),tr.copyInto({dst:i,src:o,dstX:s.xOffset,dstY:s.yOffset,blend:s.blend===xe.APNG_BLEND_OP_OVER}),t.addFrame(i),r=s.dispose)}return t}decodeImage(e,t=0){if(this.startDecode(e)!==void 0)return this.decodeFrame(t)}decodeHdrImage(e,t=0){let r=this.decodeImage(e,t);if(r!==void 0)return fe.fromImage(r)}},ce=B;ce.GRAYSCALE=0,ce.RGB=2,ce.INDEXED=3,ce.GRAYSCALE_ALPHA=4,ce.RGBA=6,ce.FILTER_NONE=0,ce.FILTER_SUB=1,ce.FILTER_UP=2,ce.FILTER_AVERAGE=3,ce.FILTER_PAETH=4});var lt=M(()=>{"use strict";ue();Re();Ee();ke();It();Ut();Ft();qe();ye();Ce()});var bn,Y,De,Xe=M(()=>{"use strict";bn=mi(bi());Le();ie();Ge();He();de();Pe();Ce();Y=class{constructor(e){this.repeat=0;this.xOffset=0;this.yOffset=0;this.disposeMethod=0;this.blendMethod=0;this.width=0;this.height=0;this.frames=0;this.sequenceNumber=0;this.isAnimated=!1;this._supportsAnimation=!0;var t,r;this.filter=(t=e==null?void 0:e.filter)!=null?t:Y.FILTER_PAETH,this.level=(r=e==null?void 0:e.level)!=null?r:6}get supportsAnimation(){return this._supportsAnimation}static crc(e,t){let r=K.getCodePoints(e),i=Te.getChecksum({buffer:r});return Te.getChecksum({buffer:t,baseCrc:i})}static writeChunk(e,t,r){e.writeUint32(r.length);let i=K.getCodePoints(t);e.writeBytes(i),e.writeBytes(r);let n=Y.crc(t,r);e.writeUint32(n)}static filterSub(e,t,r,i){let n=t;i[n++]=Y.FILTER_SUB,i[n++]=l.getRed(e.getPixel(0,r)),i[n++]=l.getGreen(e.getPixel(0,r)),i[n++]=l.getBlue(e.getPixel(0,r)),e.rgbChannelSet===1&&(i[n++]=l.getAlpha(e.getPixel(0,r)));for(let s=1;s<e.width;++s){let o=l.getRed(e.getPixel(s-1,r)),u=l.getGreen(e.getPixel(s-1,r)),h=l.getBlue(e.getPixel(s-1,r)),f=l.getRed(e.getPixel(s,r)),c=l.getGreen(e.getPixel(s,r)),m=l.getBlue(e.getPixel(s,r));if(i[n++]=f-o&255,i[n++]=c-u&255,i[n++]=m-h&255,e.rgbChannelSet===1){let d=l.getAlpha(e.getPixel(s-1,r)),p=l.getAlpha(e.getPixel(s,r));i[n++]=p-d&255}}return n}static filterUp(e,t,r,i){let n=t;i[n++]=Y.FILTER_UP;for(let s=0;s<e.width;++s){let o=r===0?0:l.getRed(e.getPixel(s,r-1)),u=r===0?0:l.getGreen(e.getPixel(s,r-1)),h=r===0?0:l.getBlue(e.getPixel(s,r-1)),f=l.getRed(e.getPixel(s,r)),c=l.getGreen(e.getPixel(s,r)),m=l.getBlue(e.getPixel(s,r));if(i[n++]=f-o&255,i[n++]=c-u&255,i[n++]=m-h&255,e.rgbChannelSet===1){let d=r===0?0:l.getAlpha(e.getPixel(s,r-1)),p=l.getAlpha(e.getPixel(s,r));i[n++]=p-d&255}}return n}static filterAverage(e,t,r,i){let n=t;i[n++]=Y.FILTER_AVERAGE;for(let s=0;s<e.width;++s){let o=s===0?0:l.getRed(e.getPixel(s-1,r)),u=s===0?0:l.getGreen(e.getPixel(s-1,r)),h=s===0?0:l.getBlue(e.getPixel(s-1,r)),f=r===0?0:l.getRed(e.getPixel(s,r-1)),c=r===0?0:l.getGreen(e.getPixel(s,r-1)),m=r===0?0:l.getBlue(e.getPixel(s,r-1)),d=l.getRed(e.getPixel(s,r)),p=l.getGreen(e.getPixel(s,r)),A=l.getBlue(e.getPixel(s,r));if(i[n++]=d-(o+f>>1)&255,i[n++]=p-(u+c>>1)&255,i[n++]=A-(h+m>>1)&255,e.rgbChannelSet===1){let b=s===0?0:l.getAlpha(e.getPixel(s-1,r)),x=r===0?0:l.getAlpha(e.getPixel(s,r-1)),w=l.getAlpha(e.getPixel(s,r));i[n++]=w-(b+x>>1)&255}}return n}static paethPredictor(e,t,r){let i=e+t-r,n=i>e?i-e:e-i,s=i>t?i-t:t-i,o=i>r?i-r:r-i;return n<=s&&n<=o?e:s<=o?t:r}static filterPaeth(e,t,r,i){let n=t;i[n++]=Y.FILTER_PAETH;for(let s=0;s<e.width;++s){let o=s===0?0:l.getRed(e.getPixel(s-1,r)),u=s===0?0:l.getGreen(e.getPixel(s-1,r)),h=s===0?0:l.getBlue(e.getPixel(s-1,r)),f=r===0?0:l.getRed(e.getPixel(s,r-1)),c=r===0?0:l.getGreen(e.getPixel(s,r-1)),m=r===0?0:l.getBlue(e.getPixel(s,r-1)),d=r===0||s===0?0:l.getRed(e.getPixel(s-1,r-1)),p=r===0||s===0?0:l.getGreen(e.getPixel(s-1,r-1)),A=r===0||s===0?0:l.getBlue(e.getPixel(s-1,r-1)),b=l.getRed(e.getPixel(s,r)),x=l.getGreen(e.getPixel(s,r)),w=l.getBlue(e.getPixel(s,r)),I=Y.paethPredictor(o,f,d),C=Y.paethPredictor(u,c,p),T=Y.paethPredictor(h,m,A);if(i[n++]=b-I&255,i[n++]=x-C&255,i[n++]=w-T&255,e.rgbChannelSet===1){let k=s===0?0:l.getAlpha(e.getPixel(s-1,r)),S=r===0?0:l.getAlpha(e.getPixel(s,r-1)),E=r===0||s===0?0:l.getAlpha(e.getPixel(s-1,r-1)),D=l.getAlpha(e.getPixel(s,r)),F=Y.paethPredictor(k,S,E);i[n++]=D-F&255}}return n}static filterNone(e,t,r,i){let n=t;i[n++]=Y.FILTER_NONE;for(let s=0;s<e.width;++s){let o=e.getPixel(s,r);i[n++]=l.getRed(o),i[n++]=l.getGreen(o),i[n++]=l.getBlue(o),e.rgbChannelSet===1&&(i[n++]=l.getAlpha(e.getPixel(s,r)))}return n}writeHeader(e,t){this.output.writeBytes(new Uint8Array([137,80,78,71,13,10,26,10]));let r=new ne({bigEndian:!0});r.writeUint32(e),r.writeUint32(t),r.writeByte(8),r.writeByte(this.rgbChannelSet===0?2:6),r.writeByte(0),r.writeByte(0),r.writeByte(0),Y.writeChunk(this.output,"IHDR",r.getBytes())}writeICCPChunk(e,t){if(t===void 0)return;let r=new ne({bigEndian:!0}),i=K.getCodePoints(t.name);r.writeBytes(i),r.writeByte(0),r.writeByte(0),r.writeBytes(t.compressed()),Y.writeChunk(this.output,"iCCP",r.getBytes())}writeAnimationControlChunk(){let e=new ne({bigEndian:!0});e.writeUint32(this.frames),e.writeUint32(this.repeat),Y.writeChunk(this.output,"acTL",e.getBytes())}applyFilter(e,t){let r=0;for(let i=0;i<e.height;++i)switch(this.filter){case Y.FILTER_SUB:r=Y.filterSub(e,r,i,t);break;case Y.FILTER_UP:r=Y.filterUp(e,r,i,t);break;case Y.FILTER_AVERAGE:r=Y.filterAverage(e,r,i,t);break;case Y.FILTER_PAETH:r=Y.filterPaeth(e,r,i,t);break;case Y.FILTER_AGRESSIVE:r=Y.filterPaeth(e,r,i,t);break;default:r=Y.filterNone(e,r,i,t);break}}writeFrameControlChunk(){let e=new ne({bigEndian:!0});e.writeUint32(this.sequenceNumber),e.writeUint32(this.width),e.writeUint32(this.height),e.writeUint32(this.xOffset),e.writeUint32(this.yOffset),e.writeUint16(this.delay),e.writeUint16(1e3),e.writeByte(this.disposeMethod),e.writeByte(this.blendMethod),Y.writeChunk(this.output,"fcTL",e.getBytes())}writeTextChunk(e,t){let r=new ne({bigEndian:!0}),i=K.encode(e,"latin1"),n=K.encode(t,"latin1");r.writeBytes(i),r.writeByte(0),r.writeBytes(n),Y.writeChunk(this.output,"tEXt",r.getBytes())}addFrame(e){this.xOffset=e.xOffset,this.yOffset=e.xOffset,this.delay=e.duration,this.disposeMethod=e.disposeMethod,this.blendMethod=e.blendMethod,this.output===void 0&&(this.output=new ne({bigEndian:!0}),this.rgbChannelSet=e.rgbChannelSet,this.width=e.width,this.height=e.height,this.writeHeader(this.width,this.height),this.writeICCPChunk(this.output,e.iccProfile),this.isAnimated&&this.writeAnimationControlChunk());let t=new Uint8Array(e.width*e.height*e.numberOfChannels+e.height);this.applyFilter(e,t);let r=(0,bn.deflate)(t,{level:this.level});if(e.textData!==void 0)for(let[i,n]of e.textData)this.writeTextChunk(i,n);if(this.isAnimated&&(this.writeFrameControlChunk(),this.sequenceNumber++),this.sequenceNumber<=1)Y.writeChunk(this.output,"IDAT",r);else{let i=new ne({bigEndian:!0});i.writeUint32(this.sequenceNumber),i.writeBytes(r),Y.writeChunk(this.output,"fdAT",i.getBytes()),this.sequenceNumber++}}finish(){let e;return this.output===void 0||(Y.writeChunk(this.output,"IEND",new Uint8Array),this.sequenceNumber=0,e=this.output.getBytes(),this.output=void 0),e}encodeImage(e){return this.isAnimated=!1,this.addFrame(e),this.finish()}encodeAnimation(e){this.isAnimated=!0,this.frames=e.frames.length,this.repeat=e.loopCount;for(let t of e)this.addFrame(t);return this.finish()}},De=Y;De.FILTER_NONE=0,De.FILTER_SUB=1,De.FILTER_UP=2,De.FILTER_AVERAGE=3,De.FILTER_PAETH=4,De.FILTER_AGRESSIVE=5});var Tt=M(()=>{"use strict";j();Xe();Ce()});var dt=M(()=>{"use strict";Tt()});var br,Rt=M(()=>{"use strict";br=class{get hSamples(){return this._hSamples}get maxHSamples(){return this._maxHSamples}get vSamples(){return this._vSamples}get maxVSamples(){return this._maxVSamples}get lines(){return this._lines}get hScaleShift(){return this._hScaleShift}get vScaleShift(){return this._vScaleShift}constructor(e,t,r,i,n){this._hSamples=e,this._maxHSamples=t,this._vSamples=r,this._maxVSamples=i,this._lines=n,this._hScaleShift=this._hSamples===1&&this._maxHSamples===2?1:0,this._vScaleShift=this._vSamples===1&&this._maxVSamples===2?1:0}}});var g,$e=M(()=>{"use strict";g=class{};g.dctZigZag=[0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63,63],g.DCTSIZE=8,g.DCTSIZE2=64,g.NUM_QUANT_TBLS=4,g.NUM_HUFF_TBLS=4,g.NUM_ARITH_TBLS=16,g.MAX_COMPS_IN_SCAN=4,g.MAX_SAMP_FACTOR=4,g.M_SOF0=192,g.M_SOF1=193,g.M_SOF2=194,g.M_SOF3=195,g.M_SOF5=197,g.M_SOF6=198,g.M_SOF7=199,g.M_JPG=200,g.M_SOF9=201,g.M_SOF10=202,g.M_SOF11=203,g.M_SOF13=205,g.M_SOF14=206,g.M_SOF15=207,g.M_DHT=196,g.M_DAC=204,g.M_RST0=208,g.M_RST1=209,g.M_RST2=210,g.M_RST3=211,g.M_RST4=212,g.M_RST5=213,g.M_RST6=214,g.M_RST7=215,g.M_SOI=216,g.M_EOI=217,g.M_SOS=218,g.M_DQT=219,g.M_DNL=220,g.M_DRI=221,g.M_DHP=222,g.M_EXP=223,g.M_APP0=224,g.M_APP1=225,g.M_APP2=226,g.M_APP3=227,g.M_APP4=228,g.M_APP5=229,g.M_APP6=230,g.M_APP7=231,g.M_APP8=232,g.M_APP9=233,g.M_APP10=234,g.M_APP11=235,g.M_APP12=236,g.M_APP13=237,g.M_APP14=238,g.M_APP15=239,g.M_JPG0=240,g.M_JPG13=253,g.M_COM=254,g.M_TEM=1,g.M_ERROR=256});var gr,kt=M(()=>{"use strict";gr=class{get version(){return this._version}get flags0(){return this._flags0}get flags1(){return this._flags1}get transformCode(){return this._transformCode}constructor(e,t,r,i){this._version=e,this._flags0=t,this._flags1=r,this._transformCode=i}}});var yr,Ot=M(()=>{"use strict";yr=class{constructor(e,t,r,i){this._blocks=new Array;this._blocksPerLine=0;this._blocksPerColumn=0;this._huffmanTableDC=[];this._huffmanTableAC=[];this._pred=0;this._hSamples=e,this._vSamples=t,this._quantizationTableList=r,this._quantizationIndex=i}get hSamples(){return this._hSamples}get vSamples(){return this._vSamples}get blocks(){return this._blocks}get blocksPerLine(){return this._blocksPerLine}get blocksPerColumn(){return this._blocksPerColumn}set huffmanTableDC(e){this._huffmanTableDC=e}get huffmanTableDC(){return this._huffmanTableDC}set huffmanTableAC(e){this._huffmanTableAC=e}get huffmanTableAC(){return this._huffmanTableAC}set pred(e){this._pred=e}get pred(){return this._pred}get quantizationTable(){return this._quantizationTableList[this._quantizationIndex]}setBlocks(e,t,r){this._blocks=e,this._blocksPerLine=t,this._blocksPerColumn=r}}});var ir,Lt=M(()=>{"use strict";ir=class{constructor(e,t,r,i,n,s,o){this._maxHSamples=0;this._maxVSamples=0;this._mcusPerLine=0;this._mcusPerColumn=0;this._components=e,this._componentsOrder=t,this._extended=r,this._progressive=i,this._precision=n,this._scanLines=s,this._samplesPerLine=o}get components(){return this._components}get componentsOrder(){return this._componentsOrder}get extended(){return this._extended}get progressive(){return this._progressive}get precision(){return this._precision}get scanLines(){return this._scanLines}get samplesPerLine(){return this._samplesPerLine}get maxHSamples(){return this._maxHSamples}get maxVSamples(){return this._maxVSamples}get mcusPerLine(){return this._mcusPerLine}get mcusPerColumn(){return this._mcusPerColumn}static getEmptyBlocks(e,t){let r=new Array;for(let i=0;i<t;i++){let n=new Array(e);for(let s=0;s<e;s++)n[s]=new Int32Array(64);r[i]=n}return r}prepare(){for(let[e,t]of this._components)this._maxHSamples=Math.max(this._maxHSamples,t.hSamples),this._maxVSamples=Math.max(this._maxVSamples,t.vSamples);this._mcusPerLine=Math.ceil(this._samplesPerLine/8/this._maxHSamples),this._mcusPerColumn=Math.ceil(this._scanLines/8/this._maxVSamples);for(let[e,t]of this._components){let r=Math.ceil(Math.ceil(this._samplesPerLine/8)*t.hSamples/this._maxHSamples),i=Math.ceil(Math.ceil(this._scanLines/8)*t.vSamples/this.maxVSamples),n=this._mcusPerLine*t.hSamples,s=this._mcusPerColumn*t.vSamples,o=ir.getEmptyBlocks(n,s);t.setBlocks(o,r,i)}}}});var nr,Nt=M(()=>{"use strict";nr=class{constructor(){this._children=new Array;this._index=0}get children(){return this._children}get index(){return this._index}incrementIndex(){this._index++}}});var xr,Gt=M(()=>{"use strict";xr=class{constructor(){this._width=0;this._height=0;this._backgroundColor=4294967295;this._numFrames=1}get width(){return this._width}get height(){return this._height}get backgroundColor(){return this._backgroundColor}get numFrames(){return this._numFrames}setSize(e,t){this._width=e,this._height=t}}});var _r,Ht=M(()=>{"use strict";_r=class{get thumbWidth(){return this._thumbWidth}get thumbHeight(){return this._thumbHeight}get majorVersion(){return this._majorVersion}get minorVersion(){return this._minorVersion}get densityUnits(){return this._densityUnits}get xDensity(){return this._xDensity}get yDensity(){return this._yDensity}get thumbData(){return this._thumbData}constructor(e,t,r,i,n,s,o,u){this._thumbWidth=e,this._thumbHeight=t,this._majorVersion=r,this._minorVersion=i,this._densityUnits=n,this._xDensity=s,this._yDensity=o,this._thumbData=u}}});var Me,zt=M(()=>{"use strict";ve();ie();Se();me();de();j();Me=class{static clamp8(e){return e<0?0:e>255?255:e}static quantizeAndInverse(e,t,r,i){let n=i,s=256,o=768;if(Me.dctClip===void 0){Me.dctClip=new Uint8Array(o);for(let x=-256;x<0;++x)Me.dctClip[s+x]=0;for(let x=0;x<256;++x)Me.dctClip[s+x]=x;for(let x=256;x<512;++x)Me.dctClip[s+x]=255}let u=4017,h=799,f=3406,c=2276,m=1567,d=3784,p=5793,A=2896;for(let x=0;x<64;x++)n[x]=t[x]*e[x];let b=0;for(let x=0;x<8;++x,b+=8){if(n[1+b]===0&&n[2+b]===0&&n[3+b]===0&&n[4+b]===0&&n[5+b]===0&&n[6+b]===0&&n[7+b]===0){let U=v.shiftR(p*n[0+b]+512,10);n[b+0]=U,n[b+1]=U,n[b+2]=U,n[b+3]=U,n[b+4]=U,n[b+5]=U,n[b+6]=U,n[b+7]=U;continue}let w=v.shiftR(p*n[0+b]+128,8),I=v.shiftR(p*n[4+b]+128,8),C=n[2+b],T=n[6+b],k=v.shiftR(A*(n[1+b]-n[7+b])+128,8),S=v.shiftR(A*(n[1+b]+n[7+b])+128,8),E=v.shiftL(n[3+b],4),D=v.shiftL(n[5+b],4),F=v.shiftR(w-I+1,1);w=v.shiftR(w+I+1,1),I=F,F=v.shiftR(C*d+T*m+128,8),C=v.shiftR(C*m-T*d+128,8),T=F,F=v.shiftR(k-D+1,1),k=v.shiftR(k+D+1,1),D=F,F=v.shiftR(S+E+1,1),E=v.shiftR(S-E+1,1),S=F,F=v.shiftR(w-T+1,1),w=v.shiftR(w+T+1,1),T=F,F=v.shiftR(I-C+1,1),I=v.shiftR(I+C+1,1),C=F,F=v.shiftR(k*c+S*f+2048,12),k=v.shiftR(k*f-S*c+2048,12),S=F,F=v.shiftR(E*h+D*u+2048,12),E=v.shiftR(E*u-D*h+2048,12),D=F,n[0+b]=w+S,n[7+b]=w-S,n[1+b]=I+D,n[6+b]=I-D,n[2+b]=C+E,n[5+b]=C-E,n[3+b]=T+k,n[4+b]=T-k}for(let x=0;x<8;++x){let w=x;if(n[1*8+w]===0&&n[2*8+w]===0&&n[3*8+w]===0&&n[4*8+w]===0&&n[5*8+w]===0&&n[6*8+w]===0&&n[7*8+w]===0){let R=v.shiftR(p*i[x]+8192,14);n[0*8+w]=R,n[1*8+w]=R,n[2*8+w]=R,n[3*8+w]=R,n[4*8+w]=R,n[5*8+w]=R,n[6*8+w]=R,n[7*8+w]=R;continue}let I=v.shiftR(p*n[0*8+w]+2048,12),C=v.shiftR(p*n[4*8+w]+2048,12),T=n[2*8+w],k=n[6*8+w],S=v.shiftR(A*(n[1*8+w]-n[7*8+w])+2048,12),E=v.shiftR(A*(n[1*8+w]+n[7*8+w])+2048,12),D=n[3*8+w],F=n[5*8+w],U=v.shiftR(I-C+1,1);I=v.shiftR(I+C+1,1),C=U,U=v.shiftR(T*d+k*m+2048,12),T=v.shiftR(T*m-k*d+2048,12),k=U,U=v.shiftR(S-F+1,1),S=v.shiftR(S+F+1,1),F=U,U=v.shiftR(E+D+1,1),D=v.shiftR(E-D+1,1),E=U,U=v.shiftR(I-k+1,1),I=v.shiftR(I+k+1,1),k=U,U=v.shiftR(C-T+1,1),C=v.shiftR(C+T+1,1),T=U,U=v.shiftR(S*c+E*f+2048,12),S=v.shiftR(S*f-E*c+2048,12),E=U,U=v.shiftR(D*h+F*u+2048,12),D=v.shiftR(D*u-F*h+2048,12),F=U,n[0*8+w]=I+E,n[7*8+w]=I-E,n[1*8+w]=C+F,n[6*8+w]=C-F,n[2*8+w]=T+D,n[5*8+w]=T-D,n[3*8+w]=k+S,n[4*8+w]=k-S}for(let x=0;x<64;++x)r[x]=Me.dctClip[s+128+v.shiftR(n[x]+8,4)]}static getImageFromJpeg(e){var z;let t=(z=e.exifData.orientation)!=null?z:0,r=t>=5&&t<=8,i=r?e.height:e.width,n=r?e.width:e.height,s=new W({width:i,height:n,rgbChannelSet:0});for(let[G,Z]of e.exifData.data)G!==Be.ORIENTATION&&s.exifData.data.set(G,Z);let o,u,h,f,c,m,d,p,A=0,b=0,x=0,w=0,I=0,C=0,T=0,k=0,S=0,E=0,D=0,F=!1,U=e.height-1,R=e.width-1;switch(e.components.length){case 1:{let G=e.components[0],Z=G.lines,q=G.hScaleShift,J=G.vScaleShift;for(let ae=0;ae<e.height;ae++){let Oe=ae>>J,jt=Z[Oe];for(let ee=0;ee<e.width;ee++){let le=ee>>q,re=jt[le],Ae=l.getColor(re,re,re);t===2?s.setPixel(R-ee,ae,Ae):t===3?s.setPixel(R-ee,U-ae,Ae):t===4?s.setPixel(ee,U-ae,Ae):t===5?s.setPixel(ae,ee,Ae):t===6?s.setPixel(U-ae,ee,Ae):t===7?s.setPixel(U-ae,R-ee,Ae):t===8?s.setPixel(ae,R-ee,Ae):s.setPixelByIndex(A++,Ae)}}break}case 3:{F=!0,o=e.components[0],u=e.components[1],h=e.components[2];let G=o.lines,Z=u.lines,q=h.lines,J=o.hScaleShift,ae=o.vScaleShift,Oe=u.hScaleShift,jt=u.vScaleShift,ee=h.hScaleShift,le=h.vScaleShift;for(let re=0;re<e.height;re++){let Ae=re>>ae,Ir=re>>jt,Ie=re>>le;c=G[Ae],m=Z[Ir],d=q[Ie];for(let Ue=0;Ue<e.width;Ue++){let $r=Ue>>J,Wr=Ue>>Oe,jr=Ue>>ee;b=c[$r]<<8,x=m[Wr]-128,w=d[jr]-128,S=b+359*w+128,E=b-88*x-183*w+128,D=b+454*x+128,S=this.clamp8(v.shiftR(S,8)),E=this.clamp8(v.shiftR(E,8)),D=this.clamp8(v.shiftR(D,8));let te=l.getColor(S,E,D);t===2?s.setPixel(R-Ue,re,te):t===3?s.setPixel(R-Ue,U-re,te):t===4?s.setPixel(Ue,U-re,te):t===5?s.setPixel(re,Ue,te):t===6?s.setPixel(U-re,Ue,te):t===7?s.setPixel(U-re,R-Ue,te):t===8?s.setPixel(re,R-Ue,te):s.setPixelByIndex(A++,te)}}break}case 4:{if(e.adobe===void 0)throw new P("Unsupported color mode (4 components)");F=!1,e.adobe.transformCode!==0&&(F=!0),o=e.components[0],u=e.components[1],h=e.components[2],f=e.components[3];let G=o.lines,Z=u.lines,q=h.lines,J=f.lines,ae=o.hScaleShift,Oe=o.vScaleShift,jt=u.hScaleShift,ee=u.vScaleShift,le=h.hScaleShift,re=h.vScaleShift,Ae=f.hScaleShift,Ir=f.vScaleShift;for(let Ie=0;Ie<e.height;Ie++){let Ue=Ie>>Oe,$r=Ie>>ee,Wr=Ie>>re,jr=Ie>>Ir;c=G[Ue],m=Z[$r],d=q[Wr],p=J[jr];for(let te=0;te<e.width;te++){let ci=te>>ae,li=te>>jt,dr=te>>le,Dr=te>>Ae;F?(b=c[ci],x=m[li],w=d[dr],I=p[Dr],C=255-this.clamp8(Math.trunc(b+1.402*(w-128))),T=255-this.clamp8(Math.trunc(b-.3441363*(x-128)-.71413636*(w-128))),k=255-this.clamp8(Math.trunc(b+1.772*(x-128)))):(C=c[ci],T=m[li],k=d[dr],I=p[Dr]),S=v.shiftR(C*I,8),E=v.shiftR(T*I,8),D=v.shiftR(k*I,8);let gt=l.getColor(S,E,D);t===2?s.setPixel(R-te,Ie,gt):t===3?s.setPixel(R-te,U-Ie,gt):t===4?s.setPixel(te,U-Ie,gt):t===5?s.setPixel(Ie,te,gt):t===6?s.setPixel(U-Ie,te,gt):t===7?s.setPixel(U-Ie,R-te,gt):t===8?s.setPixel(Ie,R-te,gt):s.setPixelByIndex(A++,gt)}}break}default:throw new P("Unsupported color mode")}return s}}});var wr,Vt=M(()=>{"use strict";j();$e();wr=class{constructor(e,t,r,i,n,s,o,u){this._bitsData=0;this._bitsCount=0;this._eobrun=0;this._successiveACState=0;this._successiveACNextValue=0;this._input=e,this._frame=t,this._precision=t.precision,this._samplesPerLine=t.samplesPerLine,this._scanLines=t.scanLines,this._mcusPerLine=t.mcusPerLine,this._progressive=t.progressive,this._maxH=t.maxHSamples,this._maxV=t.maxVSamples,this._components=r,this._resetInterval=u,this._spectralStart=i,this._spectralEnd=n,this._successivePrev=s,this._successive=o}get input(){return this._input}get frame(){return this._frame}get precision(){return this._precision}get samplesPerLine(){return this._samplesPerLine}get scanLines(){return this._scanLines}get mcusPerLine(){return this._mcusPerLine}get progressive(){return this._progressive}get maxH(){return this._maxH}get maxV(){return this._maxV}get components(){return this._components}get resetInterval(){return this._resetInterval}get spectralStart(){return this._spectralStart}get spectralEnd(){return this._spectralEnd}get successivePrev(){return this._successivePrev}get successive(){return this._successive}get bitsData(){return this._bitsData}get bitsCount(){return this._bitsCount}get eobrun(){return this._eobrun}get successiveACState(){return this._successiveACState}get successiveACNextValue(){return this._successiveACNextValue}readBit(){if(this.bitsCount>0)return this._bitsCount--,this._bitsData>>this._bitsCount&1;if(!this._input.isEOS){if(this._bitsData=this._input.readByte(),this._bitsData===255){let e=this.input.readByte();if(e!==0)throw new P(`unexpected marker: ${(this._bitsData<<8|e).toString(16)}`)}return this._bitsCount=7,this._bitsData>>7&1}}decodeHuffman(e){let t=e,r;for(;(r=this.readBit())!==void 0;)if(t=t[r],typeof t=="number")return Math.trunc(t)}receive(e){let t=0,r=e;for(;r>0;){let i=this.readBit();if(i===void 0)return;t=t<<1|i,r--}return t}receiveAndExtend(e){if(e===1)return this.readBit()===1?1:-1;let t=this.receive(e);return t>=1<<(e!=null?e:0)-1?t:t+(-1<<(e!=null?e:0))+1}decodeBaseline(e,t){let r=this.decodeHuffman(e.huffmanTableDC),i=r===0?0:this.receiveAndExtend(r);e.pred+=i,t[0]=e.pred;let n=1;for(;n<64;){let s=this.decodeHuffman(e.huffmanTableAC),o=s&15,u=s>>4;if(o===0){if(u<15)break;n+=16;continue}n+=u,o=this.receiveAndExtend(o);let h=g.dctZigZag[n];t[h]=o,n++}}decodeDCFirst(e,t){let r=this.decodeHuffman(e.huffmanTableDC),i=r===0?0:this.receiveAndExtend(r)<<this._successive;e.pred+=i,t[0]=e.pred}decodeDCSuccessive(e,t){t[0]|=this.readBit()<<this._successive}decodeACFirst(e,t){if(this._eobrun>0){this._eobrun--;return}let r=this._spectralStart,i=this._spectralEnd;for(;r<=i;){let n=this.decodeHuffman(e.huffmanTableAC),s=n&15,o=n>>4;if(s===0){if(o<15){this._eobrun=this.receive(o)+(1<<o)-1;break}r+=16;continue}r+=o;let u=g.dctZigZag[r];t[u]=this.receiveAndExtend(s)*(1<<this._successive),r++}}decodeACSuccessive(e,t){let r=this._spectralStart,i=this._spectralEnd,n=0,s=0;for(;r<=i;){let o=g.dctZigZag[r];switch(this._successiveACState){case 0:{let u=this.decodeHuffman(e.huffmanTableAC);if(u===void 0)throw new P("Invalid progressive encoding");if(n=u&15,s=u>>4,n===0)s<15?(this._eobrun=this.receive(s)+(1<<s),this._successiveACState=4):(s=16,this._successiveACState=1);else{if(n!==1)throw new P("invalid ACn encoding");this._successiveACNextValue=this.receiveAndExtend(n),this._successiveACState=s!==0?2:3}continue}case 1:case 2:{t[o]!==0?t[o]+=this.readBit()<<this._successive:(s--,s===0&&(this._successiveACState=this._successiveACState===2?3:0));break}case 3:{t[o]!==0?t[o]+=this.readBit()<<this._successive:(t[o]=this._successiveACNextValue<<this._successive,this._successiveACState=0);break}case 4:{t[o]!==0&&(t[o]+=this.readBit()<<this._successive);break}}r++}this._successiveACState===4&&(this._eobrun--,this._eobrun===0&&(this._successiveACState=0))}decodeMcu(e,t,r,i,n){let s=Math.floor(r/this._mcusPerLine),o=r%this._mcusPerLine,u=s*e.vSamples+i,h=o*e.hSamples+n;if(u>=e.blocks.length)return;let f=e.blocks[u].length;h>=f||t.call(this,e,e.blocks[u][h])}decodeBlock(e,t,r){let i=Math.floor(r/e.blocksPerLine),n=r%e.blocksPerLine;t.call(this,e,e.blocks[i][n])}decode(){let e=this._components.length,t,r;this._progressive?this._spectralStart===0?r=this._successivePrev===0?this.decodeDCFirst:this.decodeDCSuccessive:r=this._successivePrev===0?this.decodeACFirst:this.decodeACSuccessive:r=this.decodeBaseline;let i=0,n;e===1?n=this._components[0].blocksPerLine*this._components[0].blocksPerColumn:n=this._mcusPerLine*this._frame.mcusPerColumn,(this._resetInterval===void 0||this._resetInterval===0)&&(this._resetInterval=n);let s,o;for(;i<n;){for(let f=0;f<e;f++)this._components[f].pred=0;if(this._eobrun=0,e===1){t=this._components[0];for(let f=0;f<this._resetInterval;f++)this.decodeBlock(t,r,i),i++}else for(let f=0;f<this._resetInterval;f++){for(let c=0;c<e;c++){t=this.components[c],s=t.hSamples,o=t.vSamples;for(let m=0;m<o;m++)for(let d=0;d<s;d++)this.decodeMcu(t,r,i,m,d)}i++}this._bitsCount=0;let u=this._input.getByte(0),h=this._input.getByte(1);if(u===255)if(h>=g.M_RST0&&h<=g.M_RST7)this._input.skip(2);else break}}}});var ai,Yt,Zt=M(()=>{"use strict";Se();ue();j();ye();Rt();$e();kt();Ot();Lt();Nt();Gt();Ht();zt();Vt();ai=class{constructor(){this._exifData=new Be;this._quantizationTables=new Array(g.NUM_QUANT_TBLS);this._frames=new Array;this._huffmanTablesAC=new Array;this._huffmanTablesDC=new Array;this._components=new Array}get input(){return this._input}get jfif(){return this._jfif}get adobe(){return this._adobe}get frame(){return this._frame}get resetInterval(){return this._resetInterval}get comment(){return this._comment}get exifData(){return this._exifData}get quantizationTables(){return this._quantizationTables}get frames(){return this._frames}get huffmanTablesAC(){return this._huffmanTablesAC}get huffmanTablesDC(){return this._huffmanTablesDC}get components(){return this._components}get width(){return this._frame.samplesPerLine}get height(){return this._frame.scanLines}readMarkers(){let e=this.nextMarker();if(e!==g.M_SOI)throw new P("Start Of Image marker not found.");for(e=this.nextMarker();e!==g.M_EOI&&!this._input.isEOS;){let t=this.readBlock();switch(e){case g.M_APP0:case g.M_APP1:case g.M_APP2:case g.M_APP3:case g.M_APP4:case g.M_APP5:case g.M_APP6:case g.M_APP7:case g.M_APP8:case g.M_APP9:case g.M_APP10:case g.M_APP11:case g.M_APP12:case g.M_APP13:case g.M_APP14:case g.M_APP15:case g.M_COM:this.readAppData(e,t);break;case g.M_DQT:this.readDQT(t);break;case g.M_SOF0:case g.M_SOF1:case g.M_SOF2:this.readFrame(e,t);break;case g.M_SOF3:case g.M_SOF5:case g.M_SOF6:case g.M_SOF7:case g.M_JPG:case g.M_SOF9:case g.M_SOF10:case g.M_SOF11:case g.M_SOF13:case g.M_SOF14:case g.M_SOF15:throw new P(`Unhandled frame type ${e.toString(16)}`);case g.M_DHT:this.readDHT(t);break;case g.M_DRI:this.readDRI(t);break;case g.M_SOS:this.readSOS(t);break;case 255:this._input.getByte(0)!==255&&this._input.skip(-1);break;default:if(this._input.getByte(-3)===255&&this._input.getByte(-2)>=192&&this._input.getByte(-2)<=254){this._input.skip(-3);break}if(e!==0)throw new P(`Unknown JPEG marker ${e.toString(16)}`);break}e=this.nextMarker()}}skipBlock(){let e=this._input.readUint16();if(e<2)throw new P("Invalid Block");this._input.skip(e-2)}validate(e){this._input=new X({buffer:e,bigEndian:!0});let t=this._input.peekBytes(2);if(t.getByte(0)!==255||t.getByte(1)!==216)return!1;let r=this.nextMarker();if(r!==g.M_SOI)return!1;let i=!1,n=!1;for(r=this.nextMarker();r!==g.M_EOI&&!this._input.isEOS;){let s=this._input.readUint16();if(s<2)break;switch(this._input.skip(s-2),r){case g.M_SOF0:case g.M_SOF1:case g.M_SOF2:i=!0;break;case g.M_SOS:n=!0;break;default:}r=this.nextMarker()}return i&&n}readInfo(e){this._input=new X({buffer:e,bigEndian:!0});let t=this.nextMarker();if(t!==g.M_SOI)return;let r=new xr,i=!1,n=!1;for(t=this.nextMarker();t!==g.M_EOI&&!this._input.isEOS;){switch(t){case g.M_SOF0:case g.M_SOF1:case g.M_SOF2:i=!0,this.readFrame(t,this.readBlock());break;case g.M_SOS:n=!0,this.skipBlock();break;default:this.skipBlock();break}t=this.nextMarker()}return this._frame!==void 0&&(r.setSize(this._frame.samplesPerLine,this._frame.scanLines),this._frame=void 0),this.frames.length=0,i&&n?r:void 0}read(e){if(this._input=new X({buffer:e,bigEndian:!0}),this.readMarkers(),this._frames.length!==1)throw new P("Only single frame JPEGs supported");if(this._frame!==void 0)for(let t=0;t<this._frame.componentsOrder.length;++t){let r=this._frame.components.get(this._frame.componentsOrder[t]);r!==void 0&&this.components.push(new br(r.hSamples,this._frame.maxHSamples,r.vSamples,this._frame.maxVSamples,ai.buildComponentData(r)))}}getImage(){return Me.getImageFromJpeg(this)}static readExifValue(e,t,r){let b=e.length;try{switch(t){case 6:return e.readInt8();case 1:case 7:return e.readByte();case 2:return e.readString(1);case 3:return e.readUint16();case 4:return e.readUint32();case 5:case 10:{let x=e.peekBytes(8,r),w=x.readInt32(),I=x.readInt32();return I===0?0:w/I}case 8:return e.readInt16();case 9:return e.readInt32();case 11:return e.readFloat32();case 12:return e.peekBytes(8,r).readFloat64();default:return 0}}finally{let x=b-e.length;x<4&&e.skip(4-x)}}static buildHuffmanTable(e,t){let r=0,i=new Array,n=16;for(;n>0&&e[n-1]===0;)n--;i.push(new nr);let s=i[0];for(let o=0;o<n;o++){for(let u=0;u<e[o];u++){for(s=i.pop(),s.children.length<=s.index&&(s.children.length=s.index+1),s.children[s.index]=t[r];s.index>0;)s=i.pop();for(s.incrementIndex(),i.push(s);i.length<=o;){let h=new nr;i.push(h),s.children.length<=s.index&&(s.children.length=s.index+1),s.children[s.index]=h.children,s=h}r++}if(o+1<n){let u=new nr;i.push(u),s.children.length<=s.index&&(s.children.length=s.index+1),s.children[s.index]=u.children,s=u}}return i[0].children}static buildComponentData(e){let t=e.blocksPerLine,r=e.blocksPerColumn,i=t<<3,n=new Int32Array(64),s=new Uint8Array(64),o=new Array(r*8),u=0;for(let h=0;h<r;h++){let f=h<<3;for(let c=0;c<8;c++)o[u++]=new Uint8Array(i);for(let c=0;c<t;c++){Me.quantizeAndInverse(e.quantizationTable,e.blocks[h][c],s,n);let m=0,d=c<<3;for(let p=0;p<8;p++){let A=o[f+p];for(let b=0;b<8;b++)A[d+b]=s[m++]}}}return o}static toFix(e){return Math.trunc(e*1048576)&4294967295}readBlock(){let e=this._input.readUint16();if(e<2)throw new P("Invalid Block");return this._input.readBytes(e-2)}nextMarker(){let e=0;if(this._input.isEOS)return e;do{do e=this._input.readByte();while(e!==255&&!this._input.isEOS);if(this._input.isEOS)return e;do e=this._input.readByte();while(e===255&&!this._input.isEOS)}while(e===0&&!this._input.isEOS);return e}readExifDir(e,t=0){if(t>4)return;let r=e.readUint16(),i=12,n=[0,1,1,2,4,8,1,1,2,4,8,4,8];for(let s=0;s<r;++s){let o=e.readUint16(),u=e.readUint16(),h=e.readUint32();if(u-1>=i||h>65536)continue;let f=n[u],c=0;f>4&&(c=e.readUint32(),c+f>e.length)||this._exifData.data.set(o,ai.readExifValue(e,u,c))}}readExifData(e){let t=N.copyUint8(e.toUint8Array());this._exifData.addRowData(t);let r=1165519206;if(e.readUint32()!==r||e.readUint16()!==0)return;let i=e.bigEndian,n=e.readString(2);if(n==="II")e.bigEndian=!1;else if(n==="MM")e.bigEndian=!0;else return;e.skip(2);let s=e.readUint32();if((s<8||s>16)&&s>e.length-16){e.bigEndian=i;return}s>8&&e.skip(s-8),this.readExifDir(e),e.bigEndian=i}readAppData(e,t){let r=t;if(e===g.M_APP0){if(r.getByte(0)===74&&r.getByte(1)===70&&r.getByte(2)===73&&r.getByte(3)===70&&r.getByte(4)===0){let i=r.getByte(5),n=r.getByte(6),s=r.getByte(7),o=r.getByte(8)<<8|r.getByte(9),u=r.getByte(10)<<8|r.getByte(11),h=r.getByte(12),f=r.getByte(13),c=3*h*f,m=r.subarray(14+c,void 0,14);this._jfif=new _r(h,f,i,n,s,o,u,m)}}else if(e===g.M_APP1)this.readExifData(r);else if(e===g.M_APP14){if(r.getByte(0)===65&&r.getByte(1)===100&&r.getByte(2)===111&&r.getByte(3)===98&&r.getByte(4)===101&&r.getByte(5)===0){let i=r.getByte(6),n=r.getByte(7)<<8|r.getByte(8),s=r.getByte(9)<<8|r.getByte(10),o=r.getByte(11);this._adobe=new gr(i,n,s,o)}}else if(e===g.M_COM)try{this._comment=r.readStringUtf8()}catch(i){}}readDQT(e){for(;!e.isEOS;){let t=e.readByte(),r=t>>4;if(t&=15,t>=g.NUM_QUANT_TBLS)throw new P("Invalid number of quantization tables");this._quantizationTables[t]===void 0&&(this._quantizationTables[t]=new Int16Array(64));let i=this._quantizationTables[t];if(i!==void 0)for(let n=0;n<g.DCTSIZE2;n++){let s=r!==0?e.readUint16():e.readByte();i[g.dctZigZag[n]]=s}}if(!e.isEOS)throw new P("Bad length for DQT block")}readFrame(e,t){if(this._frame!==void 0)throw new P("Duplicate JPG frame data found.");let r=e===g.M_SOF1,i=e===g.M_SOF2,n=t.readByte(),s=t.readUint16(),o=t.readUint16(),u=t.readByte(),h=new Map,f=new Array;for(let c=0;c<u;c++){let m=t.readByte(),d=t.readByte(),p=d>>4&15,A=d&15,b=t.readByte();f.push(m);let x=new yr(p,A,this._quantizationTables,b);h.set(m,x)}this._frame=new ir(h,f,r,i,n,s,o),this._frame.prepare(),this.frames.push(this._frame)}readDHT(e){for(;!e.isEOS;){let t=e.readByte(),r=new Uint8Array(16),i=0;for(let o=0;o<16;o++)r[o]=e.readByte(),i+=r[o];let n=new Uint8Array(i);for(let o=0;o<i;o++)n[o]=e.readByte();let s=[];(t&16)!==0?(t-=16,s=this._huffmanTablesAC):s=this._huffmanTablesDC,s.length<=t&&(s.length=t+1),s[t]=ai.buildHuffmanTable(r,n)}}readDRI(e){this._resetInterval=e.readUint16()}readSOS(e){let t=e.readByte();if(t<1||t>g.MAX_COMPS_IN_SCAN)throw new P("Invalid SOS block");let r=new Array;for(let f=0;f<t;f++){let c=e.readByte(),m=e.readByte();if(!this._frame.components.has(c))throw new P("Invalid Component in SOS block");let d=this._frame.components.get(c);if(d!==void 0){let p=m>>4&15,A=m&15;p<this._huffmanTablesDC.length&&(d.huffmanTableDC=this._huffmanTablesDC[p]),A<this._huffmanTablesAC.length&&(d.huffmanTableAC=this._huffmanTablesAC[A]),r.push(d)}}let i=e.readByte(),n=e.readByte(),s=e.readByte(),o=s>>4&15,u=s&15;new wr(this._input,this._frame,r,i,n,o,u,this._resetInterval).decode()}},Yt=ai;Yt.CRR=[-179,-178,-177,-175,-174,-172,-171,-170,-168,-167,-165,-164,-163,-161,-160,-158,-157,-156,-154,-153,-151,-150,-149,-147,-146,-144,-143,-142,-140,-139,-137,-136,-135,-133,-132,-130,-129,-128,-126,-125,-123,-122,-121,-119,-118,-116,-115,-114,-112,-111,-109,-108,-107,-105,-104,-102,-101,-100,-98,-97,-95,-94,-93,-91,-90,-88,-87,-86,-84,-83,-81,-80,-79,-77,-76,-74,-73,-72,-70,-69,-67,-66,-64,-63,-62,-60,-59,-57,-56,-55,-53,-52,-50,-49,-48,-46,-45,-43,-42,-41,-39,-38,-36,-35,-34,-32,-31,-29,-28,-27,-25,-24,-22,-21,-20,-18,-17,-15,-14,-13,-11,-10,-8,-7,-6,-4,-3,-1,0,1,3,4,6,7,8,10,11,13,14,15,17,18,20,21,22,24,25,27,28,29,31,32,34,35,36,38,39,41,42,43,45,46,48,49,50,52,53,55,56,57,59,60,62,63,64,66,67,69,70,72,73,74,76,77,79,80,81,83,84,86,87,88,90,91,93,94,95,97,98,100,101,102,104,105,107,108,109,111,112,114,115,116,118,119,121,122,123,125,126,128,129,130,132,133,135,136,137,139,140,142,143,144,146,147,149,150,151,153,154,156,157,158,160,161,163,164,165,167,168,170,171,172,174,175,177,178],Yt.CRG=[5990656,5943854,5897052,5850250,5803448,5756646,5709844,5663042,5616240,5569438,5522636,5475834,5429032,5382230,5335428,5288626,5241824,5195022,5148220,5101418,5054616,5007814,4961012,4914210,4867408,4820606,4773804,4727002,4680200,4633398,4586596,4539794,4492992,4446190,4399388,4352586,4305784,4258982,4212180,4165378,4118576,4071774,4024972,3978170,3931368,3884566,3837764,3790962,3744160,3697358,3650556,3603754,3556952,3510150,3463348,3416546,3369744,3322942,3276140,3229338,3182536,3135734,3088932,3042130,2995328,2948526,2901724,2854922,2808120,2761318,2714516,2667714,2620912,2574110,2527308,2480506,2433704,2386902,2340100,2293298,2246496,2199694,2152892,2106090,2059288,2012486,1965684,1918882,1872080,1825278,1778476,1731674,1684872,1638070,1591268,1544466,1497664,1450862,1404060,1357258,1310456,1263654,1216852,1170050,1123248,1076446,1029644,982842,936040,889238,842436,795634,748832,702030,655228,608426,561624,514822,468020,421218,374416,327614,280812,234010,187208,140406,93604,46802,0,-46802,-93604,-140406,-187208,-234010,-280812,-327614,-374416,-421218,-468020,-514822,-561624,-608426,-655228,-702030,-748832,-795634,-842436,-889238,-936040,-982842,-1029644,-1076446,-1123248,-1170050,-1216852,-1263654,-1310456,-1357258,-1404060,-1450862,-1497664,-1544466,-1591268,-1638070,-1684872,-1731674,-1778476,-1825278,-1872080,-1918882,-1965684,-2012486,-2059288,-2106090,-2152892,-2199694,-2246496,-2293298,-2340100,-2386902,-2433704,-2480506,-2527308,-2574110,-2620912,-2667714,-2714516,-2761318,-2808120,-2854922,-2901724,-2948526,-2995328,-3042130,-3088932,-3135734,-3182536,-3229338,-3276140,-3322942,-3369744,-3416546,-3463348,-3510150,-3556952,-3603754,-3650556,-3697358,-3744160,-3790962,-3837764,-3884566,-3931368,-3978170,-4024972,-4071774,-4118576,-4165378,-4212180,-4258982,-4305784,-4352586,-4399388,-4446190,-4492992,-4539794,-4586596,-4633398,-4680200,-4727002,-4773804,-4820606,-4867408,-4914210,-4961012,-5007814,-5054616,-5101418,-5148220,-5195022,-5241824,-5288626,-5335428,-5382230,-5429032,-5475834,-5522636,-5569438,-5616240,-5663042,-5709844,-5756646,-5803448,-5850250,-5897052,-5943854],Yt.CBG=[2919680,2897126,2874572,2852018,2829464,2806910,2784356,2761802,2739248,2716694,2694140,2671586,2649032,2626478,2603924,2581370,2558816,2536262,2513708,2491154,2468600,2446046,2423492,2400938,2378384,2355830,2333276,2310722,2288168,2265614,2243060,2220506,2197952,2175398,2152844,2130290,2107736,2085182,2062628,2040074,2017520,1994966,1972412,1949858,1927304,1904750,1882196,1859642,1837088,1814534,1791980,1769426,1746872,1724318,1701764,1679210,1656656,1634102,1611548,1588994,1566440,1543886,1521332,1498778,1476224,1453670,1431116,1408562,1386008,1363454,1340900,1318346,1295792,1273238,1250684,1228130,1205576,1183022,1160468,1137914,1115360,1092806,1070252,1047698,1025144,1002590,980036,957482,934928,912374,889820,867266,844712,822158,799604,777050,754496,731942,709388,686834,664280,641726,619172,596618,574064,551510,528956,506402,483848,461294,438740,416186,393632,371078,348524,325970,303416,280862,258308,235754,213200,190646,168092,145538,122984,100430,77876,55322,32768,10214,-12340,-34894,-57448,-80002,-102556,-125110,-147664,-170218,-192772,-215326,-237880,-260434,-282988,-305542,-328096,-350650,-373204,-395758,-418312,-440866,-463420,-485974,-508528,-531082,-553636,-576190,-598744,-621298,-643852,-666406,-688960,-711514,-734068,-756622,-779176,-801730,-824284,-846838,-869392,-891946,-914500,-937054,-959608,-982162,-1004716,-1027270,-1049824,-1072378,-1094932,-1117486,-1140040,-1162594,-1185148,-1207702,-1230256,-1252810,-1275364,-1297918,-1320472,-1343026,-1365580,-1388134,-1410688,-1433242,-1455796,-1478350,-1500904,-1523458,-1546012,-1568566,-1591120,-1613674,-1636228,-1658782,-1681336,-1703890,-1726444,-1748998,-1771552,-1794106,-1816660,-1839214,-1861768,-1884322,-1906876,-1929430,-1951984,-1974538,-1997092,-2019646,-2042200,-2064754,-2087308,-2109862,-2132416,-2154970,-2177524,-2200078,-2222632,-2245186,-2267740,-2290294,-2312848,-2335402,-2357956,-2380510,-2403064,-2425618,-2448172,-2470726,-2493280,-2515834,-2538388,-2560942,-2583496,-2606050,-2628604,-2651158,-2673712,-2696266,-2718820,-2741374,-2763928,-2786482,-2809036,-2831590],Yt.CBB=[-227,-225,-223,-222,-220,-218,-216,-214,-213,-211,-209,-207,-206,-204,-202,-200,-198,-197,-195,-193,-191,-190,-188,-186,-184,-183,-181,-179,-177,-175,-174,-172,-170,-168,-167,-165,-163,-161,-159,-158,-156,-154,-152,-151,-149,-147,-145,-144,-142,-140,-138,-136,-135,-133,-131,-129,-128,-126,-124,-122,-120,-119,-117,-115,-113,-112,-110,-108,-106,-105,-103,-101,-99,-97,-96,-94,-92,-90,-89,-87,-85,-83,-82,-80,-78,-76,-74,-73,-71,-69,-67,-66,-64,-62,-60,-58,-57,-55,-53,-51,-50,-48,-46,-44,-43,-41,-39,-37,-35,-34,-32,-30,-28,-27,-25,-23,-21,-19,-18,-16,-14,-12,-11,-9,-7,-5,-4,-2,0,2,4,5,7,9,11,12,14,16,18,19,21,23,25,27,28,30,32,34,35,37,39,41,43,44,46,48,50,51,53,55,57,58,60,62,64,66,67,69,71,73,74,76,78,80,82,83,85,87,89,90,92,94,96,97,99,101,103,105,106,108,110,112,113,115,117,119,120,122,124,126,128,129,131,133,135,136,138,140,142,144,145,147,149,151,152,154,156,158,159,161,163,165,167,168,170,172,174,175,177,179,181,183,184,186,188,190,191,193,195,197,198,200,202,204,206,207,209,211,213,214,216,218,220,222,223,225]});var mt=M(()=>{"use strict";Fe();j();Ee();Zt();ye()});var L,_e,pt=M(()=>{"use strict";Ne();$e();Ce();L=class{constructor(e=100){this.tableY=new Uint8Array(64);this.tableUV=new Uint8Array(64);this.ftableY=new Float32Array(64);this.ftableUV=new Float32Array(64);this.bitcode=new Array(65535).fill(void 0);this.category=new Array(65535).fill(void 0);this.outputfDCTQuant=new Array(64).fill(void 0);this.DU=new Array(64).fill(void 0);this.YDU=new Float32Array(64);this.UDU=new Float32Array(64);this.VDU=new Float32Array(64);this.tableRGBYUV=new Int32Array(2048);this.byteNew=0;this.bytePos=7;this._supportsAnimation=!1;this.initHuffmanTable(),this.initCategoryNumber(),this.initRGBYUVTable(),this.setQuality(e)}get supportsAnimation(){return this._supportsAnimation}static computeHuffmanTable(e,t){let r=0,i=0,n=new Array;for(let s=1;s<=16;s++){for(let o=1;o<=e[s];o++){let u=t[i];n.length<=u&&(n.length=u+1),n[u]=[r,s],i++,r++}r*=2}return n}static writeMarker(e,t){e.writeByte(255),e.writeByte(t&255)}static writeAPP0(e){L.writeMarker(e,g.M_APP0),e.writeUint16(16),e.writeByte(74),e.writeByte(70),e.writeByte(73),e.writeByte(70),e.writeByte(0),e.writeByte(1),e.writeByte(1),e.writeByte(0),e.writeUint16(1),e.writeUint16(1),e.writeByte(0),e.writeByte(0)}static writeAPP1(e,t){if(t.rawData!==void 0)for(let r of t.rawData)L.writeMarker(e,g.M_APP1),e.writeUint16(r.length+2),e.writeBytes(r)}static writeSOF0(e,t,r){L.writeMarker(e,g.M_SOF0),e.writeUint16(17),e.writeByte(8),e.writeUint16(r),e.writeUint16(t),e.writeByte(3),e.writeByte(1),e.writeByte(17),e.writeByte(0),e.writeByte(2),e.writeByte(17),e.writeByte(1),e.writeByte(3),e.writeByte(17),e.writeByte(1)}static writeSOS(e){L.writeMarker(e,g.M_SOS),e.writeUint16(12),e.writeByte(3),e.writeByte(1),e.writeByte(0),e.writeByte(2),e.writeByte(17),e.writeByte(3),e.writeByte(17),e.writeByte(0),e.writeByte(63),e.writeByte(0)}static writeDHT(e){L.writeMarker(e,g.M_DHT),e.writeUint16(418),e.writeByte(0);for(let t=0;t<16;t++)e.writeByte(L.STD_DC_LUMINANCE_NR_CODES[t+1]);for(let t=0;t<=11;t++)e.writeByte(L.STD_DC_LUMINANCE_VALUES[t]);e.writeByte(16);for(let t=0;t<16;t++)e.writeByte(L.STD_AC_LUMINANCE_NR_CODES[t+1]);for(let t=0;t<=161;t++)e.writeByte(L.STD_AC_LUMINANCE_VALUES[t]);e.writeByte(1);for(let t=0;t<16;t++)e.writeByte(L.STD_DC_CHROMINANCE_NR_CODES[t+1]);for(let t=0;t<=11;t++)e.writeByte(L.STD_DC_CHROMINANCE_VALUES[t]);e.writeByte(17);for(let t=0;t<16;t++)e.writeByte(L.STD_AC_CHROMINANCE_NR_CODES[t+1]);for(let t=0;t<=161;t++)e.writeByte(L.STD_AC_CHROMINANCE_VALUES[t])}initHuffmanTable(){this.htYDC=L.computeHuffmanTable(L.STD_DC_LUMINANCE_NR_CODES,L.STD_DC_LUMINANCE_VALUES),this.htUVDC=L.computeHuffmanTable(L.STD_DC_CHROMINANCE_NR_CODES,L.STD_DC_CHROMINANCE_VALUES),this.htYAC=L.computeHuffmanTable(L.STD_AC_LUMINANCE_NR_CODES,L.STD_AC_LUMINANCE_VALUES),this.htUVAC=L.computeHuffmanTable(L.STD_AC_CHROMINANCE_NR_CODES,L.STD_AC_CHROMINANCE_VALUES)}initCategoryNumber(){let e=1,t=2;for(let r=1;r<=15;r++){for(let i=e;i<t;i++)this.category[32767+i]=r,this.bitcode[32767+i]=[i,r];for(let i=-(t-1);i<=-e;i++)this.category[32767+i]=r,this.bitcode[32767+i]=[t-1+i,r];e<<=1,t<<=1}}initRGBYUVTable(){for(let e=0;e<256;e++)this.tableRGBYUV[e]=19595*e,this.tableRGBYUV[e+256]=38470*e,this.tableRGBYUV[e+512]=7471*e+32768,this.tableRGBYUV[e+768]=-11059*e,this.tableRGBYUV[e+1024]=-21709*e,this.tableRGBYUV[e+1280]=32768*e+8421375,this.tableRGBYUV[e+1536]=-27439*e,this.tableRGBYUV[e+1792]=-5329*e}setQuality(e){let t=$.clampInt(e,1,100);if(this.currentQuality===t)return;let r=0;t<50?r=Math.floor(5e3/t):r=Math.floor(200-t*2),this.initQuantTables(r),this.currentQuality=t}initQuantTables(e){let t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99];for(let s=0;s<64;s++){let o=Math.floor((t[s]*e+50)/100);o<1?o=1:o>255&&(o=255),this.tableY[L.ZIGZAG[s]]=o}let r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(let s=0;s<64;s++){let o=Math.floor((r[s]*e+50)/100);o<1?o=1:o>255&&(o=255),this.tableUV[L.ZIGZAG[s]]=o}let i=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],n=0;for(let s=0;s<8;s++)for(let o=0;o<8;o++)this.ftableY[n]=1/(this.tableY[L.ZIGZAG[n]]*i[s]*i[o]*8),this.ftableUV[n]=1/(this.tableUV[L.ZIGZAG[n]]*i[s]*i[o]*8),n++}fDCTQuant(e,t){let r=0,i=8,n=64;for(let s=0;s<i;++s){let o=e[r],u=e[r+1],h=e[r+2],f=e[r+3],c=e[r+4],m=e[r+5],d=e[r+6],p=e[r+7],A=o+p,b=o-p,x=u+d,w=u-d,I=h+m,C=h-m,T=f+c,k=f-c,S=A+T,E=A-T,D=x+I,F=x-I;e[r]=S+D,e[r+4]=S-D;let U=(F+E)*.707106781;e[r+2]=E+U,e[r+6]=E-U,S=k+C,D=C+w,F=w+b;let R=(S-F)*.382683433,z=.5411961*S+R,G=1.306562965*F+R,Z=D*.707106781,q=b+Z,J=b-Z;e[r+5]=J+z,e[r+3]=J-z,e[r+1]=q+G,e[r+7]=q-G,r+=8}r=0;for(let s=0;s<i;++s){let o=e[r],u=e[r+8],h=e[r+16],f=e[r+24],c=e[r+32],m=e[r+40],d=e[r+48],p=e[r+56],A=o+p,b=o-p,x=u+d,w=u-d,I=h+m,C=h-m,T=f+c,k=f-c,S=A+T,E=A-T,D=x+I,F=x-I;e[r]=S+D,e[r+32]=S-D;let U=(F+E)*.707106781;e[r+16]=E+U,e[r+48]=E-U,S=k+C,D=C+w,F=w+b;let R=(S-F)*.382683433,z=.5411961*S+R,G=1.306562965*F+R,Z=D*.707106781,q=b+Z,J=b-Z;e[r+40]=J+z,e[r+24]=J-z,e[r+8]=q+G,e[r+56]=q-G,r++}for(let s=0;s<n;++s){let o=e[s]*t[s];this.outputfDCTQuant[s]=o>0?Math.trunc(o+.5):Math.trunc(o-.5)}return this.outputfDCTQuant}writeDQT(e){L.writeMarker(e,g.M_DQT),e.writeUint16(132),e.writeByte(0);for(let t=0;t<64;t++)e.writeByte(this.tableY[t]);e.writeByte(1);for(let t=0;t<64;t++)e.writeByte(this.tableUV[t])}writeBits(e,t){let r=t[0],i=t[1]-1;for(;i>=0;)(r&1<<i)!==0&&(this.byteNew|=1<<this.bytePos),i--,this.bytePos--,this.bytePos<0&&(this.byteNew===255?(e.writeByte(255),e.writeByte(0)):e.writeByte(this.byteNew),this.bytePos=7,this.byteNew=0)}resetBits(){this.byteNew=0,this.bytePos=7}processDU(e,t,r,i,n,s){let o=n[0],u=n[240],h=16,f=63,c=64,m=this.fDCTQuant(t,r),d=i,p=0;for(let w=0;w<c;++w)this.DU[L.ZIGZAG[w]]=m[w];let A=this.DU[0]-d;d=this.DU[0],A===0?this.writeBits(e,s[0]):(p=32767+A,this.writeBits(e,s[this.category[p]]),this.writeBits(e,this.bitcode[p]));let b=63;for(;b>0&&this.DU[b]===0;b--);if(b===0)return this.writeBits(e,o),d;let x=1;for(;x<=b;){let w=x;for(;this.DU[x]===0&&x<=b;++x);let I=x-w;if(I>=h){let C=I>>4;for(let T=1;T<=C;++T)this.writeBits(e,u);I&=15}p=32767+this.DU[x],this.writeBits(e,n[(I<<4)+this.category[p]]),this.writeBits(e,this.bitcode[p]),x++}return b!==f&&this.writeBits(e,o),d}encodeImage(e){let t=new ne({bigEndian:!0});L.writeMarker(t,g.M_SOI),L.writeAPP0(t),L.writeAPP1(t,e.exifData),this.writeDQT(t),L.writeSOF0(t,e.width,e.height),L.writeDHT(t),L.writeSOS(t);let r=0,i=0,n=0;this.resetBits();let s=e.width,o=e.height,u=e.getBytes(),h=s*4,f=0;for(;f<o;){let c=0;for(;c<h;){let m=h*f+c;for(let d=0;d<64;d++){let p=d>>3,A=(d&7)*4,b=m+p*h+A;f+p>=o&&(b-=h*(f+1+p-o)),c+A>=h&&(b-=c+A-h+4);let x=u[b++],w=u[b++],I=u[b++];this.YDU[d]=(this.tableRGBYUV[x]+this.tableRGBYUV[w+256]+this.tableRGBYUV[I+512]>>16)-128,this.UDU[d]=(this.tableRGBYUV[x+768]+this.tableRGBYUV[w+1024]+this.tableRGBYUV[I+1280]>>16)-128,this.VDU[d]=(this.tableRGBYUV[x+1280]+this.tableRGBYUV[w+1536]+this.tableRGBYUV[I+1792]>>16)-128}r=this.processDU(t,this.YDU,this.ftableY,r,this.htYAC,this.htYDC),i=this.processDU(t,this.UDU,this.ftableUV,i,this.htUVAC,this.htUVDC),n=this.processDU(t,this.VDU,this.ftableUV,n,this.htUVAC,this.htUVDC),c+=32}f+=8}if(this.bytePos>=0){let c=[(1<<this.bytePos+1)-1,this.bytePos+1];this.writeBits(t,c)}return L.writeMarker(t,g.M_EOI),t.getBytes()}encodeAnimation(e){}},_e=L;_e.ZIGZAG=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_e.STD_DC_LUMINANCE_NR_CODES=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_e.STD_DC_LUMINANCE_VALUES=[0,1,2,3,4,5,6,7,8,9,10,11],_e.STD_AC_LUMINANCE_NR_CODES=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_e.STD_AC_LUMINANCE_VALUES=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_e.STD_DC_CHROMINANCE_NR_CODES=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_e.STD_DC_CHROMINANCE_VALUES=[0,1,2,3,4,5,6,7,8,9,10,11],_e.STD_AC_CHROMINANCE_NR_CODES=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_e.STD_AC_CHROMINANCE_VALUES=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250]});var sr=M(()=>{"use strict"});var ar=M(()=>{"use strict";Ze();nt();ut();ht();lt();dt();mt();pt();qe();Xe();ve();Le();Ne();je();Qe();ie();Ke();Ge();He();Se();Fe();Je();ct();Ve();ue();me();de();Pe();et();Ze();nt();ut();ht();lt();dt();mt();pt();qe();Xe()});var qt=M(()=>{"use strict";me();de();Ye()});var bt=M(()=>{"use strict"});var Xt=M(()=>{"use strict";bt()});var $t=M(()=>{"use strict";Se();me();qt();Xt();bt()});var or=M(()=>{"use strict";ie();me();j();Ye();$t()});var xn=di(Yi=>{"use strict";ve();Le();Ne();je();Qe();ie();Ke();Ge();He();Se();Fe();Je();ct();Ve();ue();me();de();Pe();Qt();et();j();Re();Ze();nt();At();ke();it();Kt();Jt();It();er();ut();ht();ot();vt();Bt();lt();dt();Ut();St();Ft();mt();pt();Rt();kt();Ot();Zt();Lt();Nt();Gt();Ht();zt();Vt();$e();qe();Xe();Et();Pt();ft();Ct();ye();Ye();Mt();Ce();sr();Tt();xt();Ee();_t();ar();$t();st();or();qt();bt();Xt();Yi.byteLength=$n;Yi.toByteArray=jn;Yi.fromByteArray=Jn;var cr=[],Wt=[],Xn=typeof Uint8Array<"u"?Uint8Array:Array,Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Er=0,gn=Qi.length;Er<gn;++Er)cr[Er]=Qi[Er],Wt[Qi.charCodeAt(Er)]=Er;var Er,gn;Wt["-".charCodeAt(0)]=62;Wt["_".charCodeAt(0)]=63;function yn(a){var e=a.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=a.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function $n(a){var e=yn(a),t=e[0],r=e[1];return(t+r)*3/4-r}function Wn(a,e,t){return(e+t)*3/4-t}function jn(a){var e,t=yn(a),r=t[0],i=t[1],n=new Xn(Wn(a,r,i)),s=0,o=i>0?r-4:r,u;for(u=0;u<o;u+=4)e=Wt[a.charCodeAt(u)]<<18|Wt[a.charCodeAt(u+1)]<<12|Wt[a.charCodeAt(u+2)]<<6|Wt[a.charCodeAt(u+3)],n[s++]=e>>16&255,n[s++]=e>>8&255,n[s++]=e&255;return i===2&&(e=Wt[a.charCodeAt(u)]<<2|Wt[a.charCodeAt(u+1)]>>4,n[s++]=e&255),i===1&&(e=Wt[a.charCodeAt(u)]<<10|Wt[a.charCodeAt(u+1)]<<4|Wt[a.charCodeAt(u+2)]>>2,n[s++]=e>>8&255,n[s++]=e&255),n}function Qn(a){return cr[a>>18&63]+cr[a>>12&63]+cr[a>>6&63]+cr[a&63]}function Kn(a,e,t){for(var r,i=[],n=e;n<t;n+=3)r=(a[n]<<16&16711680)+(a[n+1]<<8&65280)+(a[n+2]&255),i.push(Qn(r));return i.join("")}function Jn(a){for(var e,t=a.length,r=t%3,i=[],n=16383,s=0,o=t-r;s<o;s+=n)i.push(Kn(a,s,s+n>o?o:s+n));return r===1?(e=a[t-1],i.push(cr[e>>2]+cr[e<<4&63]+"==")):r===2&&(e=(a[t-2]<<8)+a[t-1],i.push(cr[e>>10]+cr[e>>4&63]+cr[e<<2&63]+"=")),i.join("")}});var _n=di(Ki=>{ve();Le();Ne();je();Qe();ie();Ke();Ge();He();Se();Fe();Je();ct();Ve();ue();me();de();Pe();Qt();et();j();Re();Ze();nt();At();ke();it();Kt();Jt();It();er();ut();ht();ot();vt();Bt();lt();dt();Ut();St();Ft();mt();pt();Rt();kt();Ot();Zt();Lt();Nt();Gt();Ht();zt();Vt();$e();qe();Xe();Et();Pt();ft();Ct();ye();Ye();Mt();Ce();sr();Tt();xt();Ee();_t();ar();$t();st();or();qt();bt();Xt();Ki.read=function(a,e,t,r,i){var n,s,o=i*8-r-1,u=(1<<o)-1,h=u>>1,f=-7,c=t?i-1:0,m=t?-1:1,d=a[e+c];for(c+=m,n=d&(1<<-f)-1,d>>=-f,f+=o;f>0;n=n*256+a[e+c],c+=m,f-=8);for(s=n&(1<<-f)-1,n>>=-f,f+=r;f>0;s=s*256+a[e+c],c+=m,f-=8);if(n===0)n=1-h;else{if(n===u)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,r),n=n-h}return(d?-1:1)*s*Math.pow(2,n-r)};Ki.write=function(a,e,t,r,i,n){var s,o,u,h=n*8-i-1,f=(1<<h)-1,c=f>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:n-1,p=r?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+c>=1?e+=m/u:e+=m*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=f?(o=0,s=f):s+c>=1?(o=(e*u-1)*Math.pow(2,i),s=s+c):(o=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;a[t+d]=o&255,d+=p,o/=256,i-=8);for(s=s<<i|o,h+=i;h>0;a[t+d]=s&255,d+=p,s/=256,h-=8);a[t+d-p]|=A*128}});var On=di(Xr=>{"use strict";ve();Le();Ne();je();Qe();ie();Ke();Ge();He();Se();Fe();Je();ct();Ve();ue();me();de();Pe();Qt();et();j();Re();Ze();nt();At();ke();it();Kt();Jt();It();er();ut();ht();ot();vt();Bt();lt();dt();Ut();St();Ft();mt();pt();Rt();kt();Ot();Zt();Lt();Nt();Gt();Ht();zt();Vt();$e();qe();Xe();Et();Pt();ft();Ct();ye();Ye();Mt();Ce();sr();Tt();xt();Ee();_t();ar();$t();st();or();qt();bt();Xt();var Ji=xn(),Zr=_n(),wn=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Xr.Buffer=_;Xr.SlowBuffer=ss;Xr.INSPECT_MAX_BYTES=50;var Zi=2147483647;Xr.kMaxLength=Zi;_.TYPED_ARRAY_SUPPORT=es();!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function es(){try{let a=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(a,e),a.foo()===42}catch{return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(!!_.isBuffer(this))return this.buffer}});Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(!!_.isBuffer(this))return this.byteOffset}});function Ar(a){if(a>Zi)throw new RangeError('The value "'+a+'" is invalid for option "size"');let e=new Uint8Array(a);return Object.setPrototypeOf(e,_.prototype),e}function _(a,e,t){if(typeof a=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return nn(a)}return Bn(a,e,t)}_.poolSize=8192;function Bn(a,e,t){if(typeof a=="string")return rs(a,e);if(ArrayBuffer.isView(a))return is(a);if(a==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(lr(a,ArrayBuffer)||a&&lr(a.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lr(a,SharedArrayBuffer)||a&&lr(a.buffer,SharedArrayBuffer)))return tn(a,e,t);if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=a.valueOf&&a.valueOf();if(r!=null&&r!==a)return _.from(r,e,t);let i=ns(a);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof a[Symbol.toPrimitive]=="function")return _.from(a[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}_.from=function(a,e,t){return Bn(a,e,t)};Object.setPrototypeOf(_.prototype,Uint8Array.prototype);Object.setPrototypeOf(_,Uint8Array);function Cn(a){if(typeof a!="number")throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function ts(a,e,t){return Cn(a),a<=0?Ar(a):e!==void 0?typeof t=="string"?Ar(a).fill(e,t):Ar(a).fill(e):Ar(a)}_.alloc=function(a,e,t){return ts(a,e,t)};function nn(a){return Cn(a),Ar(a<0?0:sn(a)|0)}_.allocUnsafe=function(a){return nn(a)};_.allocUnsafeSlow=function(a){return nn(a)};function rs(a,e){if((typeof e!="string"||e==="")&&(e="utf8"),!_.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Mn(a,e)|0,r=Ar(t),i=r.write(a,e);return i!==t&&(r=r.slice(0,i)),r}function en(a){let e=a.length<0?0:sn(a.length)|0,t=Ar(e);for(let r=0;r<e;r+=1)t[r]=a[r]&255;return t}function is(a){if(lr(a,Uint8Array)){let e=new Uint8Array(a);return tn(e.buffer,e.byteOffset,e.byteLength)}return en(a)}function tn(a,e,t){if(e<0||a.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let r;return e===void 0&&t===void 0?r=new Uint8Array(a):t===void 0?r=new Uint8Array(a,e):r=new Uint8Array(a,e,t),Object.setPrototypeOf(r,_.prototype),r}function ns(a){if(_.isBuffer(a)){let e=sn(a.length)|0,t=Ar(e);return t.length===0||a.copy(t,0,0,e),t}if(a.length!==void 0)return typeof a.length!="number"||on(a.length)?Ar(0):en(a);if(a.type==="Buffer"&&Array.isArray(a.data))return en(a.data)}function sn(a){if(a>=Zi)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Zi.toString(16)+" bytes");return a|0}function ss(a){return+a!=a&&(a=0),_.alloc(+a)}_.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==_.prototype};_.compare=function(e,t){if(lr(e,Uint8Array)&&(e=_.from(e,e.offset,e.byteLength)),lr(t,Uint8Array)&&(t=_.from(t,t.offset,t.byteLength)),!_.isBuffer(e)||!_.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0};_.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};_.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return _.alloc(0);let r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;let i=_.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){let s=e[r];if(lr(s,Uint8Array))n+s.length>i.length?(_.isBuffer(s)||(s=_.from(s)),s.copy(i,n)):Uint8Array.prototype.set.call(i,s,n);else if(_.isBuffer(s))s.copy(i,n);else throw new TypeError('"list" argument must be an Array of Buffers');n+=s.length}return i};function Mn(a,e){if(_.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||lr(a,ArrayBuffer))return a.byteLength;if(typeof a!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let t=a.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return rn(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return kn(a).length;default:if(i)return r?-1:rn(a).length;e=(""+e).toLowerCase(),i=!0}}_.byteLength=Mn;function as(a,e,t){let r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(a||(a="utf8");;)switch(a){case"hex":return bs(this,e,t);case"utf8":case"utf-8":return Sn(this,e,t);case"ascii":return ms(this,e,t);case"latin1":case"binary":return ps(this,e,t);case"base64":return ls(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gs(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),r=!0}}_.prototype._isBuffer=!0;function Pr(a,e,t){let r=a[e];a[e]=a[t],a[t]=r}_.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Pr(this,t,t+1);return this};_.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Pr(this,t,t+3),Pr(this,t+1,t+2);return this};_.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Pr(this,t,t+7),Pr(this,t+1,t+6),Pr(this,t+2,t+5),Pr(this,t+3,t+4);return this};_.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Sn(this,0,e):as.apply(this,arguments)};_.prototype.toLocaleString=_.prototype.toString;_.prototype.equals=function(e){if(!_.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:_.compare(this,e)===0};_.prototype.inspect=function(){let e="",t=Xr.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};wn&&(_.prototype[wn]=_.prototype.inspect);_.prototype.compare=function(e,t,r,i,n){if(lr(e,Uint8Array)&&(e=_.from(e,e.offset,e.byteLength)),!_.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),n===void 0&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,n>>>=0,this===e)return 0;let s=n-i,o=r-t,u=Math.min(s,o),h=this.slice(i,n),f=e.slice(t,r);for(let c=0;c<u;++c)if(h[c]!==f[c]){s=h[c],o=f[c];break}return s<o?-1:o<s?1:0};function Un(a,e,t,r,i){if(a.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,on(t)&&(t=i?0:a.length-1),t<0&&(t=a.length+t),t>=a.length){if(i)return-1;t=a.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=_.from(e,r)),_.isBuffer(e))return e.length===0?-1:An(a,e,t,r,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(a,e,t):Uint8Array.prototype.lastIndexOf.call(a,e,t):An(a,[e],t,r,i);throw new TypeError("val must be string, number or Buffer")}function An(a,e,t,r,i){let n=1,s=a.length,o=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(a.length<2||e.length<2)return-1;n=2,s/=2,o/=2,t/=2}function u(f,c){return n===1?f[c]:f.readUInt16BE(c*n)}let h;if(i){let f=-1;for(h=t;h<s;h++)if(u(a,h)===u(e,f===-1?0:h-f)){if(f===-1&&(f=h),h-f+1===o)return f*n}else f!==-1&&(h-=h-f),f=-1}else for(t+o>s&&(t=s-o),h=t;h>=0;h--){let f=!0;for(let c=0;c<o;c++)if(u(a,h+c)!==u(e,c)){f=!1;break}if(f)return h}return-1}_.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1};_.prototype.indexOf=function(e,t,r){return Un(this,e,t,r,!0)};_.prototype.lastIndexOf=function(e,t,r){return Un(this,e,t,r,!1)};function os(a,e,t,r){t=Number(t)||0;let i=a.length-t;r?(r=Number(r),r>i&&(r=i)):r=i;let n=e.length;r>n/2&&(r=n/2);let s;for(s=0;s<r;++s){let o=parseInt(e.substr(s*2,2),16);if(on(o))return s;a[t+s]=o}return s}function us(a,e,t,r){return qi(rn(e,a.length-t),a,t,r)}function fs(a,e,t,r){return qi(ws(e),a,t,r)}function hs(a,e,t,r){return qi(kn(e),a,t,r)}function cs(a,e,t,r){return qi(As(e,a.length-t),a,t,r)}_.prototype.write=function(e,t,r,i){if(t===void 0)i="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")i=t,r=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(r)?(r=r>>>0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let n=this.length-t;if((r===void 0||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return os(this,e,t,r);case"utf8":case"utf-8":return us(this,e,t,r);case"ascii":case"latin1":case"binary":return fs(this,e,t,r);case"base64":return hs(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cs(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ls(a,e,t){return e===0&&t===a.length?Ji.fromByteArray(a):Ji.fromByteArray(a.slice(e,t))}function Sn(a,e,t){t=Math.min(a.length,t);let r=[],i=e;for(;i<t;){let n=a[i],s=null,o=n>239?4:n>223?3:n>191?2:1;if(i+o<=t){let u,h,f,c;switch(o){case 1:n<128&&(s=n);break;case 2:u=a[i+1],(u&192)===128&&(c=(n&31)<<6|u&63,c>127&&(s=c));break;case 3:u=a[i+1],h=a[i+2],(u&192)===128&&(h&192)===128&&(c=(n&15)<<12|(u&63)<<6|h&63,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:u=a[i+1],h=a[i+2],f=a[i+3],(u&192)===128&&(h&192)===128&&(f&192)===128&&(c=(n&15)<<18|(u&63)<<12|(h&63)<<6|f&63,c>65535&&c<1114112&&(s=c))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),i+=o}return ds(r)}var In=4096;function ds(a){let e=a.length;if(e<=In)return String.fromCharCode.apply(String,a);let t="",r=0;for(;r<e;)t+=String.fromCharCode.apply(String,a.slice(r,r+=In));return t}function ms(a,e,t){let r="";t=Math.min(a.length,t);for(let i=e;i<t;++i)r+=String.fromCharCode(a[i]&127);return r}function ps(a,e,t){let r="";t=Math.min(a.length,t);for(let i=e;i<t;++i)r+=String.fromCharCode(a[i]);return r}function bs(a,e,t){let r=a.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);let i="";for(let n=e;n<t;++n)i+=Is[a[n]];return i}function gs(a,e,t){let r=a.slice(e,t),i="";for(let n=0;n<r.length-1;n+=2)i+=String.fromCharCode(r[n]+r[n+1]*256);return i}_.prototype.slice=function(e,t){let r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,_.prototype),i};function we(a,e,t){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+e>t)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||we(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return i};_.prototype.readUintBE=_.prototype.readUIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||we(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i};_.prototype.readUint8=_.prototype.readUInt8=function(e,t){return e=e>>>0,t||we(e,1,this.length),this[e]};_.prototype.readUint16LE=_.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||we(e,2,this.length),this[e]|this[e+1]<<8};_.prototype.readUint16BE=_.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||we(e,2,this.length),this[e]<<8|this[e+1]};_.prototype.readUint32LE=_.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||we(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};_.prototype.readUint32BE=_.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||we(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};_.prototype.readBigUInt64LE=Br(function(e){e=e>>>0,qr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&hi(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,n=this[++e]+this[++e]*2**8+this[++e]*2**16+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))});_.prototype.readBigUInt64BE=Br(function(e){e=e>>>0,qr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&hi(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],n=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r;return(BigInt(i)<<BigInt(32))+BigInt(n)});_.prototype.readIntLE=function(e,t,r){e=e>>>0,t=t>>>0,r||we(e,t,this.length);let i=this[e],n=1,s=0;for(;++s<t&&(n*=256);)i+=this[e+s]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*t)),i};_.prototype.readIntBE=function(e,t,r){e=e>>>0,t=t>>>0,r||we(e,t,this.length);let i=t,n=1,s=this[e+--i];for(;i>0&&(n*=256);)s+=this[e+--i]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*t)),s};_.prototype.readInt8=function(e,t){return e=e>>>0,t||we(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};_.prototype.readInt16LE=function(e,t){e=e>>>0,t||we(e,2,this.length);let r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};_.prototype.readInt16BE=function(e,t){e=e>>>0,t||we(e,2,this.length);let r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};_.prototype.readInt32LE=function(e,t){return e=e>>>0,t||we(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};_.prototype.readInt32BE=function(e,t){return e=e>>>0,t||we(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};_.prototype.readBigInt64LE=Br(function(e){e=e>>>0,qr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&hi(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});_.prototype.readBigInt64BE=Br(function(e){e=e>>>0,qr(e,"offset");let t=this[e],r=this[e+7];(t===void 0||r===void 0)&&hi(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+r)});_.prototype.readFloatLE=function(e,t){return e=e>>>0,t||we(e,4,this.length),Zr.read(this,e,!0,23,4)};_.prototype.readFloatBE=function(e,t){return e=e>>>0,t||we(e,4,this.length),Zr.read(this,e,!1,23,4)};_.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||we(e,8,this.length),Zr.read(this,e,!0,52,8)};_.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||we(e,8,this.length),Zr.read(this,e,!1,52,8)};function We(a,e,t,r,i,n){if(!_.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<n)throw new RangeError('"value" argument is out of bounds');if(t+r>a.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t=t>>>0,r=r>>>0,!i){let o=Math.pow(2,8*r)-1;We(this,e,t,r,o,0)}let n=1,s=0;for(this[t]=e&255;++s<r&&(n*=256);)this[t+s]=e/n&255;return t+r};_.prototype.writeUintBE=_.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t=t>>>0,r=r>>>0,!i){let o=Math.pow(2,8*r)-1;We(this,e,t,r,o,0)}let n=r-1,s=1;for(this[t+n]=e&255;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+r};_.prototype.writeUint8=_.prototype.writeUInt8=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,1,255,0),this[t]=e&255,t+1};_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Fn(a,e,t,r,i){Rn(e,r,i,a,t,7);let n=Number(e&BigInt(4294967295));a[t++]=n,n=n>>8,a[t++]=n,n=n>>8,a[t++]=n,n=n>>8,a[t++]=n;let s=Number(e>>BigInt(32)&BigInt(4294967295));return a[t++]=s,s=s>>8,a[t++]=s,s=s>>8,a[t++]=s,s=s>>8,a[t++]=s,t}function En(a,e,t,r,i){Rn(e,r,i,a,t,7);let n=Number(e&BigInt(4294967295));a[t+7]=n,n=n>>8,a[t+6]=n,n=n>>8,a[t+5]=n,n=n>>8,a[t+4]=n;let s=Number(e>>BigInt(32)&BigInt(4294967295));return a[t+3]=s,s=s>>8,a[t+2]=s,s=s>>8,a[t+1]=s,s=s>>8,a[t]=s,t+8}_.prototype.writeBigUInt64LE=Br(function(e,t=0){return Fn(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});_.prototype.writeBigUInt64BE=Br(function(e,t=0){return En(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});_.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*r-1);We(this,e,t,r,u-1,-u)}let n=0,s=1,o=0;for(this[t]=e&255;++n<r&&(s*=256);)e<0&&o===0&&this[t+n-1]!==0&&(o=1),this[t+n]=(e/s>>0)-o&255;return t+r};_.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*r-1);We(this,e,t,r,u-1,-u)}let n=r-1,s=1,o=0;for(this[t+n]=e&255;--n>=0&&(s*=256);)e<0&&o===0&&this[t+n+1]!==0&&(o=1),this[t+n]=(e/s>>0)-o&255;return t+r};_.prototype.writeInt8=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};_.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};_.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};_.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};_.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t>>>0,r||We(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};_.prototype.writeBigInt64LE=Br(function(e,t=0){return Fn(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});_.prototype.writeBigInt64BE=Br(function(e,t=0){return En(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pn(a,e,t,r,i,n){if(t+r>a.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Dn(a,e,t,r,i){return e=+e,t=t>>>0,i||Pn(a,e,t,4,34028234663852886e22,-34028234663852886e22),Zr.write(a,e,t,r,23,4),t+4}_.prototype.writeFloatLE=function(e,t,r){return Dn(this,e,t,!0,r)};_.prototype.writeFloatBE=function(e,t,r){return Dn(this,e,t,!1,r)};function Tn(a,e,t,r,i){return e=+e,t=t>>>0,i||Pn(a,e,t,8,17976931348623157e292,-17976931348623157e292),Zr.write(a,e,t,r,52,8),t+8}_.prototype.writeDoubleLE=function(e,t,r){return Tn(this,e,t,!0,r)};_.prototype.writeDoubleBE=function(e,t,r){return Tn(this,e,t,!1,r)};_.prototype.copy=function(e,t,r,i){if(!_.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);let n=i-r;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n};_.prototype.fill=function(e,t,r,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!_.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);let n;if(typeof e=="number")for(n=t;n<r;++n)this[n]=e;else{let s=_.isBuffer(e)?e:_.from(e,i),o=s.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=s[n%o]}return this};var Yr={};function an(a,e,t){Yr[a]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${a}]: ${this.message}`}}}an("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);an("ERR_INVALID_ARG_TYPE",function(a,e){return`The "${a}" argument must be of type number. Received type ${typeof e}`},TypeError);an("ERR_OUT_OF_RANGE",function(a,e,t){let r=`The value of "${a}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=vn(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=vn(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r},RangeError);function vn(a){let e="",t=a.length,r=a[0]==="-"?1:0;for(;t>=r+4;t-=3)e=`_${a.slice(t-3,t)}${e}`;return`${a.slice(0,t)}${e}`}function ys(a,e,t){qr(e,"offset"),(a[e]===void 0||a[e+t]===void 0)&&hi(e,a.length-(t+1))}function Rn(a,e,t,r,i,n){if(a>t||a<e){let s=typeof e=="bigint"?"n":"",o;throw n>3?e===0||e===BigInt(0)?o=`>= 0${s} and < 2${s} ** ${(n+1)*8}${s}`:o=`>= -(2${s} ** ${(n+1)*8-1}${s}) and < 2 ** ${(n+1)*8-1}${s}`:o=`>= ${e}${s} and <= ${t}${s}`,new Yr.ERR_OUT_OF_RANGE("value",o,a)}ys(r,i,n)}function qr(a,e){if(typeof a!="number")throw new Yr.ERR_INVALID_ARG_TYPE(e,"number",a)}function hi(a,e,t){throw Math.floor(a)!==a?(qr(a,t),new Yr.ERR_OUT_OF_RANGE(t||"offset","an integer",a)):e<0?new Yr.ERR_BUFFER_OUT_OF_BOUNDS:new Yr.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,a)}var xs=/[^+/0-9A-Za-z-_]/g;function _s(a){if(a=a.split("=")[0],a=a.trim().replace(xs,""),a.length<2)return"";for(;a.length%4!==0;)a=a+"=";return a}function rn(a,e){e=e||1/0;let t,r=a.length,i=null,n=[];for(let s=0;s<r;++s){if(t=a.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&n.push(239,191,189);continue}else if(s+1===r){(e-=3)>-1&&n.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&n.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&n.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;n.push(t)}else if(t<2048){if((e-=2)<0)break;n.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;n.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;n.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return n}function ws(a){let e=[];for(let t=0;t<a.length;++t)e.push(a.charCodeAt(t)&255);return e}function As(a,e){let t,r,i,n=[];for(let s=0;s<a.length&&!((e-=2)<0);++s)t=a.charCodeAt(s),r=t>>8,i=t%256,n.push(i),n.push(r);return n}function kn(a){return Ji.toByteArray(_s(a))}function qi(a,e,t,r){let i;for(i=0;i<r&&!(i+t>=e.length||i>=a.length);++i)e[i+t]=a[i];return i}function lr(a,e){return a instanceof e||a!=null&&a.constructor!=null&&a.constructor.name!=null&&a.constructor.name===e.name}function on(a){return a!==a}var Is=function(){let a="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let r=t*16;for(let i=0;i<16;++i)e[r+i]=a[t]+a[i]}return e}();function Br(a){return typeof BigInt>"u"?vs:a}function vs(){throw new Error("BigInt not supported")}});var Ln,K,Pe=M(()=>{"use strict";Ln=mi(On());j();K=class{static encode(e,t){let r=Ln.Buffer.from(e,t);return new Uint8Array(r)}static getCodePoints(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++){let i=e.codePointAt(r);if(i!==void 0)if(0<=i&&i<256)t[r]=i;else throw new P(`Error encoding text "${e}": unknown character code point ${i}`);else throw new P(`Error encoding text "${e}"`)}return t}};K.utf8Decoder=new TextDecoder("utf8"),K.latin1Decoder=new TextDecoder("latin1")});var bi=di((Qd,un)=>{ve();Le();Ne();je();Qe();ie();Ke();Ge();He();Se();Fe();Je();ct();Ve();ue();me();de();Pe();Qt();et();j();Re();Ze();nt();At();ke();it();Kt();Jt();It();er();ut();ht();ot();vt();Bt();lt();dt();Ut();St();Ft();mt();pt();Rt();kt();Ot();Zt();Lt();Nt();Gt();Ht();zt();Vt();$e();qe();Xe();Et();Pt();ft();Ct();ye();Ye();Mt();Ce();sr();Tt();xt();Ee();_t();ar();$t();st();or();qt();bt();Xt();var y={};typeof un=="object"&&(un.exports=y);y.parse=function(a,e){for(var t=y.bin.readUshort,r=y.bin.readUint,o=0,i={},n=new Uint8Array(a),s=n.length-4;r(n,s)!=101010256;)s--;var o=s;o+=4,o+=4;var u=t(n,o);o+=2;var h=t(n,o);o+=2;var f=r(n,o);o+=4;var c=r(n,o);o+=4,o=c;for(var m=0;m<u;m++){var d=r(n,o);o+=4,o+=4,o+=4,o+=4;var p=r(n,o);o+=4;var f=r(n,o);o+=4;var A=r(n,o);o+=4;var b=t(n,o),x=t(n,o+2),w=t(n,o+4);o+=6,o+=8;var I=r(n,o);o+=4,o+=b+x+w,y._readLocal(n,I,i,f,A,e)}return i};y._readLocal=function(a,e,t,r,i,n){var s=y.bin.readUshort,o=y.bin.readUint,u=o(a,e);e+=4;var h=s(a,e);e+=2;var f=s(a,e);e+=2;var c=s(a,e);e+=2;var m=o(a,e);e+=4;var d=o(a,e);e+=4,e+=8;var p=s(a,e);e+=2;var A=s(a,e);e+=2;var b=y.bin.readUTF8(a,e,p);if(e+=p,e+=A,n){t[b]={size:i,csize:r};return}var x=new Uint8Array(a.buffer,e);if(c==0)t[b]=new Uint8Array(x.buffer.slice(e,e+r));else if(c==8){var w=new Uint8Array(i);y.inflateRaw(x,w),t[b]=w}else throw"unknown compression method: "+c};y.inflateRaw=function(a,e){return y.F.inflate(a,e)};y.inflate=function(a,e){var t=a[0],r=a[1],i=t&15,n=t>>>4;return y.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),e)};y.deflate=function(a,e){e==null&&(e={level:6});var t=0,r=new Uint8Array(50+Math.floor(a.length*1.1));r[t]=120,r[t+1]=156,t+=2,t=y.F.deflateRaw(a,r,t,e.level);var i=y.adler(a,0,a.length);return r[t+0]=i>>>24&255,r[t+1]=i>>>16&255,r[t+2]=i>>>8&255,r[t+3]=i>>>0&255,new Uint8Array(r.buffer,0,t+4)};y.deflateRaw=function(a,e){e==null&&(e={level:6});var t=new Uint8Array(50+Math.floor(a.length*1.1)),r=y.F.deflateRaw(a,t,r,e.level);return new Uint8Array(t.buffer,0,r)};y.encode=function(a,e){e==null&&(e=!1);var t=0,r=y.bin.writeUint,i=y.bin.writeUshort,n={};for(var s in a){var o=!y._noNeed(s)&&!e,u=a[s],h=y.crc.crc(u,0,u.length);n[s]={cpr:o,usize:u.length,crc:h,file:o?y.deflateRaw(u):u}}for(var s in n)t+=n[s].file.length+30+46+2*y.bin.sizeUTF8(s);t+=22;var f=new Uint8Array(t),c=0,m=[];for(var s in n){var d=n[s];m.push(c),c=y._writeHeader(f,c,s,d,0)}var p=0,A=c;for(var s in n){var d=n[s];m.push(c),c=y._writeHeader(f,c,s,d,1,m[p++])}var b=c-A;return r(f,c,101010256),c+=4,c+=4,i(f,c,p),c+=2,i(f,c,p),c+=2,r(f,c,b),c+=4,r(f,c,A),c+=4,c+=2,f.buffer};y._noNeed=function(a){var e=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(e)!=-1};y._writeHeader=function(a,e,t,r,i,n){var s=y.bin.writeUint,o=y.bin.writeUshort,u=r.file;s(a,e,i==0?67324752:33639248),e+=4,i==1&&(e+=2),o(a,e,20),e+=2,o(a,e,0),e+=2,o(a,e,r.cpr?8:0),e+=2,s(a,e,0),e+=4,s(a,e,r.crc),e+=4,s(a,e,u.length),e+=4,s(a,e,r.usize),e+=4,o(a,e,y.bin.sizeUTF8(t)),e+=2,o(a,e,0),e+=2,i==1&&(e+=2,e+=2,e+=6,s(a,e,n),e+=4);var h=y.bin.writeUTF8(a,e,t);return e+=h,i==0&&(a.set(u,e),e+=u.length),e};y.crc={table:function(){for(var a=new Uint32Array(256),e=0;e<256;e++){for(var t=e,r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;a[e]=t}return a}(),update:function(a,e,t,r){for(var i=0;i<r;i++)a=y.crc.table[(a^e[t+i])&255]^a>>>8;return a},crc:function(a,e,t){return y.crc.update(4294967295,a,e,t)^4294967295}};y.adler=function(a,e,t){for(var r=1,i=0,n=e,s=e+t;n<s;){for(var o=Math.min(n+5552,s);n<o;)r+=a[n++],i+=r;r=r%65521,i=i%65521}return i<<16|r};y.bin={readUshort:function(a,e){return a[e]|a[e+1]<<8},writeUshort:function(a,e,t){a[e]=t&255,a[e+1]=t>>8&255},readUint:function(a,e){return a[e+3]*(256*256*256)+(a[e+2]<<16|a[e+1]<<8|a[e])},writeUint:function(a,e,t){a[e]=t&255,a[e+1]=t>>8&255,a[e+2]=t>>16&255,a[e+3]=t>>24&255},readASCII:function(a,e,t){for(var r="",i=0;i<t;i++)r+=String.fromCharCode(a[e+i]);return r},writeASCII:function(a,e,t){for(var r=0;r<t.length;r++)a[e+r]=t.charCodeAt(r)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,e,t){for(var r="",i,n=0;n<t;n++)r+="%"+y.bin.pad(a[e+n].toString(16));try{i=decodeURIComponent(r)}catch{return y.bin.readASCII(a,e,t)}return i},writeUTF8:function(a,e,t){for(var r=t.length,i=0,n=0;n<r;n++){var s=t.charCodeAt(n);if((s&4294967295-(1<<7)+1)==0)a[e+i]=s,i++;else if((s&4294967295-(1<<11)+1)==0)a[e+i]=192|s>>6,a[e+i+1]=128|s>>0&63,i+=2;else if((s&4294967295-(1<<16)+1)==0)a[e+i]=224|s>>12,a[e+i+1]=128|s>>6&63,a[e+i+2]=128|s>>0&63,i+=3;else if((s&4294967295-(1<<21)+1)==0)a[e+i]=240|s>>18,a[e+i+1]=128|s>>12&63,a[e+i+2]=128|s>>6&63,a[e+i+3]=128|s>>0&63,i+=4;else throw"e"}return i},sizeUTF8:function(a){for(var e=a.length,t=0,r=0;r<e;r++){var i=a.charCodeAt(r);if((i&4294967295-(1<<7)+1)==0)t++;else if((i&4294967295-(1<<11)+1)==0)t+=2;else if((i&4294967295-(1<<16)+1)==0)t+=3;else if((i&4294967295-(1<<21)+1)==0)t+=4;else throw"e"}return t}};y.F={};y.F.deflateRaw=function(a,e,t,r){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]],n=i[r],s=y.F.U,o=y.F._goodIndex,u=y.F._hash,h=y.F._putsE,f=0,c=t<<3,m=0,d=a.length;if(r==0){for(;f<d;){var p=Math.min(65535,d-f);h(e,c,f+p==d?1:0),c=y.F._copyExact(a,f,p,e,c+8),f+=p}return c>>>3}var A=s.lits,b=s.strt,x=s.prev,w=0,I=0,C=0,T=0,k=0,S=0;d>2&&(S=y.F._hash(a,0),b[S]=0);var E=0,D=0;for(f=0;f<d;f++){if(k=S,f+1<d-2){S=y.F._hash(a,f+1);var F=f+1&32767;x[F]=b[S],b[S]=F}if(m<=f){(w>14e3||I>26697)&&d-f>100&&(m<f&&(A[w]=f-m,w+=2,m=f),c=y.F._writeBlock(f==d-1||m==d?1:0,A,w,T,a,C,f-C,e,c),w=I=T=0,C=f);var U=0;f<d-2&&(U=y.F._bestMatch(a,f,x,k,Math.min(n[2],d-f),n[3]));var p=U>>>16,R=U&65535;if(U!=0){var p=U>>>16,R=U&65535,z=o(p,s.of0);s.lhst[257+z]++;var G=o(R,s.df0);s.dhst[G]++,T+=s.exb[z]+s.dxb[G],A[w]=p<<23|f-m,A[w+1]=R<<16|z<<8|G,w+=2,m=f+p}else s.lhst[a[f]]++;I++}}for((C!=f||a.length==0)&&(m<f&&(A[w]=f-m,w+=2,m=f),c=y.F._writeBlock(1,A,w,T,a,C,f-C,e,c),w=0,I=0,w=I=T=0,C=f);(c&7)!=0;)c++;return c>>>3};y.F._bestMatch=function(a,e,t,r,i,n){var s=e&32767,o=t[s],u=s-o+(1<<15)&32767;if(o==s||r!=y.F._hash(a,e-u))return 0;for(var h=0,f=0,c=Math.min(32767,e);u<=c&&--n!=0&&o!=s;){if(h==0||a[e+h]==a[e+h-u]){var m=y.F._howLong(a,e,u);if(m>h){if(h=m,f=u,h>=i)break;u+2<m&&(m=u+2);for(var d=0,p=0;p<m-2;p++){var A=e-u+p+32768&32767,b=t[A],x=A-b+(1<<15)&32767;x>d&&(d=x,o=A)}}}s=o,o=t[s],u+=s-o+(1<<15)&32767}return h<<16|f};y.F._howLong=function(a,e,t){if(a[e]!=a[e-t]||a[e+1]!=a[e+1-t]||a[e+2]!=a[e+2-t])return 0;var r=e,i=Math.min(a.length,e+258);for(e+=3;e<i&&a[e]==a[e-t];)e++;return e-r};y.F._hash=function(a,e){return(a[e]<<8|a[e+1])+(a[e+2]<<4)&65535};y.saved=0;y.F._writeBlock=function(a,e,t,r,i,n,s,o,u){var h=y.F.U,f=y.F._putsF,c=y.F._putsE,m,d,p,A,b,x,w,I,C;h.lhst[256]++,m=y.F.getTrees(),d=m[0],p=m[1],A=m[2],b=m[3],x=m[4],w=m[5],I=m[6],C=m[7];var T=((u+3&7)==0?0:8-(u+3&7))+32+(s<<3),k=r+y.F.contSize(h.fltree,h.lhst)+y.F.contSize(h.fdtree,h.dhst),S=r+y.F.contSize(h.ltree,h.lhst)+y.F.contSize(h.dtree,h.dhst);S+=14+3*w+y.F.contSize(h.itree,h.ihst)+(h.ihst[16]*2+h.ihst[17]*3+h.ihst[18]*7);for(var E=0;E<286;E++)h.lhst[E]=0;for(var E=0;E<30;E++)h.dhst[E]=0;for(var E=0;E<19;E++)h.ihst[E]=0;var D=T<k&&T<S?0:k<S?1:2;f(o,u,a),f(o,u+1,D),u+=3;var F=u;if(D==0){for(;(u&7)!=0;)u++;u=y.F._copyExact(i,n,s,o,u)}else{var U,R;if(D==1&&(U=h.fltree,R=h.fdtree),D==2){y.F.makeCodes(h.ltree,d),y.F.revCodes(h.ltree,d),y.F.makeCodes(h.dtree,p),y.F.revCodes(h.dtree,p),y.F.makeCodes(h.itree,A),y.F.revCodes(h.itree,A),U=h.ltree,R=h.dtree,c(o,u,b-257),u+=5,c(o,u,x-1),u+=5,c(o,u,w-4),u+=4;for(var z=0;z<w;z++)c(o,u+z*3,h.itree[(h.ordr[z]<<1)+1]);u+=3*w,u=y.F._codeTiny(I,h.itree,o,u),u=y.F._codeTiny(C,h.itree,o,u)}for(var G=n,Z=0;Z<t;Z+=2){for(var q=e[Z],J=q>>>23,ae=G+(q&(1<<23)-1);G<ae;)u=y.F._writeLit(i[G++],U,o,u);if(J!=0){var Oe=e[Z+1],jt=Oe>>16,ee=Oe>>8&255,le=Oe&255;u=y.F._writeLit(257+ee,U,o,u),c(o,u,J-h.of0[ee]),u+=h.exb[ee],u=y.F._writeLit(le,R,o,u),f(o,u,jt-h.df0[le]),u+=h.dxb[le],G+=J}}u=y.F._writeLit(256,U,o,u)}return u};y.F._copyExact=function(a,e,t,r,i){var n=i>>>3;return r[n]=t,r[n+1]=t>>>8,r[n+2]=255-r[n],r[n+3]=255-r[n+1],n+=4,r.set(new Uint8Array(a.buffer,e,t),n),i+(t+4<<3)};y.F.getTrees=function(){for(var a=y.F.U,e=y.F._hufTree(a.lhst,a.ltree,15),t=y.F._hufTree(a.dhst,a.dtree,15),r=[],i=y.F._lenCodes(a.ltree,r),n=[],s=y.F._lenCodes(a.dtree,n),o=0;o<r.length;o+=2)a.ihst[r[o]]++;for(var o=0;o<n.length;o+=2)a.ihst[n[o]]++;for(var u=y.F._hufTree(a.ihst,a.itree,7),h=19;h>4&&a.itree[(a.ordr[h-1]<<1)+1]==0;)h--;return[e,t,u,i,s,h,r,n]};y.F.getSecond=function(a){for(var e=[],t=0;t<a.length;t+=2)e.push(a[t+1]);return e};y.F.nonZero=function(a){for(var e="",t=0;t<a.length;t+=2)a[t+1]!=0&&(e+=(t>>1)+",");return e};y.F.contSize=function(a,e){for(var t=0,r=0;r<e.length;r++)t+=e[r]*a[(r<<1)+1];return t};y.F._codeTiny=function(a,e,t,r){for(var i=0;i<a.length;i+=2){var n=a[i],s=a[i+1];r=y.F._writeLit(n,e,t,r);var o=n==16?2:n==17?3:7;n>15&&(y.F._putsE(t,r,s,o),r+=o)}return r};y.F._lenCodes=function(a,e){for(var t=a.length;t!=2&&a[t-1]==0;)t-=2;for(var r=0;r<t;r+=2){var i=a[r+1],n=r+3<t?a[r+3]:-1,s=r+5<t?a[r+5]:-1,o=r==0?-1:a[r-1];if(i==0&&n==i&&s==i){for(var u=r+5;u+2<t&&a[u+2]==i;)u+=2;var h=Math.min(u+1-r>>>1,138);h<11?e.push(17,h-3):e.push(18,h-11),r+=h*2-2}else if(i==o&&n==i&&s==i){for(var u=r+5;u+2<t&&a[u+2]==i;)u+=2;var h=Math.min(u+1-r>>>1,6);e.push(16,h-3),r+=h*2-2}else e.push(i,0)}return t>>>1};y.F._hufTree=function(a,e,t){var r=[],i=a.length,n=e.length,s=0;for(s=0;s<n;s+=2)e[s]=0,e[s+1]=0;for(s=0;s<i;s++)a[s]!=0&&r.push({lit:s,f:a[s]});var o=r.length,u=r.slice(0);if(o==0)return 0;if(o==1){var h=r[0].lit,u=h==0?1:0;return e[(h<<1)+1]=1,e[(u<<1)+1]=1,1}r.sort(function(b,x){return b.f-x.f});var f=r[0],c=r[1],m=0,d=1,p=2;for(r[0]={lit:-1,f:f.f+c.f,l:f,r:c,d:0};d!=o-1;)m!=d&&(p==o||r[m].f<r[p].f)?f=r[m++]:f=r[p++],m!=d&&(p==o||r[m].f<r[p].f)?c=r[m++]:c=r[p++],r[d++]={lit:-1,f:f.f+c.f,l:f,r:c};var A=y.F.setDepth(r[d-1],0);for(A>t&&(y.F.restrictDepth(u,t,A),A=t),s=0;s<o;s++)e[(u[s].lit<<1)+1]=u[s].d;return A};y.F.setDepth=function(a,e){return a.lit!=-1?(a.d=e,e):Math.max(y.F.setDepth(a.l,e+1),y.F.setDepth(a.r,e+1))};y.F.restrictDepth=function(a,e,t){var r=0,i=1<<t-e,n=0;for(a.sort(function(o,u){return u.d==o.d?o.f-u.f:u.d-o.d}),r=0;r<a.length&&a[r].d>e;r++){var s=a[r].d;a[r].d=e,n+=i-(1<<t-s)}for(n=n>>>t-e;n>0;){var s=a[r].d;s<e?(a[r].d++,n-=1<<e-s-1):r++}for(;r>=0;r--)a[r].d==e&&n<0&&(a[r].d--,n++);n!=0&&console.log("debt left")};y.F._goodIndex=function(a,e){var t=0;return e[t|16]<=a&&(t|=16),e[t|8]<=a&&(t|=8),e[t|4]<=a&&(t|=4),e[t|2]<=a&&(t|=2),e[t|1]<=a&&(t|=1),t};y.F._writeLit=function(a,e,t,r){return y.F._putsF(t,r,e[a<<1]),r+e[(a<<1)+1]};y.F.inflate=function(a,e){var t=Uint8Array;if(a[0]==3&&a[1]==0)return e||new t(0);var r=y.F,i=r._bitsF,n=r._bitsE,s=r._decodeTiny,o=r.makeCodes,u=r.codes2map,h=r._get17,f=r.U,c=e==null;c&&(e=new t(a.length>>>2<<3));for(var m=0,d=0,p=0,A=0,b=0,x=0,w=0,I=0,C=0,T,k;m==0;){if(m=i(a,C,1),d=i(a,C+1,2),C+=3,d==0){(C&7)!=0&&(C+=8-(C&7));var S=(C>>>3)+4,E=a[S-4]|a[S-3]<<8;c&&(e=y.F._check(e,I+E)),e.set(new t(a.buffer,a.byteOffset+S,E),I),C=S+E<<3,I+=E;continue}if(c&&(e=y.F._check(e,I+(1<<17))),d==1&&(T=f.flmap,k=f.fdmap,x=(1<<9)-1,w=(1<<5)-1),d==2){p=n(a,C,5)+257,A=n(a,C+5,5)+1,b=n(a,C+10,4)+4,C+=14;for(var D=C,F=0;F<38;F+=2)f.itree[F]=0,f.itree[F+1]=0;for(var U=1,F=0;F<b;F++){var R=n(a,C+F*3,3);f.itree[(f.ordr[F]<<1)+1]=R,R>U&&(U=R)}C+=3*b,o(f.itree,U),u(f.itree,U,f.imap),T=f.lmap,k=f.dmap,C=s(f.imap,(1<<U)-1,p+A,a,C,f.ttree);var z=r._copyOut(f.ttree,0,p,f.ltree);x=(1<<z)-1;var G=r._copyOut(f.ttree,p,A,f.dtree);w=(1<<G)-1,o(f.ltree,z),u(f.ltree,z,T),o(f.dtree,G),u(f.dtree,G,k)}for(;;){var Z=T[h(a,C)&x];C+=Z&15;var q=Z>>>4;if(q>>>8==0)e[I++]=q;else{if(q==256)break;var J=I+q-254;if(q>264){var ae=f.ldef[q-257];J=I+(ae>>>3)+n(a,C,ae&7),C+=ae&7}var Oe=k[h(a,C)&w];C+=Oe&15;var jt=Oe>>>4,ee=f.ddef[jt],le=(ee>>>4)+i(a,C,ee&15);for(C+=ee&15,c&&(e=y.F._check(e,I+(1<<17)));I<J;)e[I]=e[I++-le],e[I]=e[I++-le],e[I]=e[I++-le],e[I]=e[I++-le];I=J}}}return e.length==I?e:e.slice(0,I)};y.F._check=function(a,e){var t=a.length;if(e<=t)return a;var r=new Uint8Array(Math.max(t<<1,e));return r.set(a,0),r};y.F._decodeTiny=function(a,e,t,r,i,n){for(var s=y.F._bitsE,o=y.F._get17,u=0;u<t;){var h=a[o(r,i)&e];i+=h&15;var f=h>>>4;if(f<=15)n[u]=f,u++;else{var c=0,m=0;f==16?(m=3+s(r,i,2),i+=2,c=n[u-1]):f==17?(m=3+s(r,i,3),i+=3):f==18&&(m=11+s(r,i,7),i+=7);for(var d=u+m;u<d;)n[u]=c,u++}}return i};y.F._copyOut=function(a,e,t,r){for(var i=0,n=0,s=r.length>>>1;n<t;){var o=a[n+e];r[n<<1]=0,r[(n<<1)+1]=o,o>i&&(i=o),n++}for(;n<s;)r[n<<1]=0,r[(n<<1)+1]=0,n++;return i};y.F.makeCodes=function(a,e){for(var t=y.F.U,r=a.length,i,n,s,o,u,h=t.bl_count,o=0;o<=e;o++)h[o]=0;for(o=1;o<r;o+=2)h[a[o]]++;var f=t.next_code;for(i=0,h[0]=0,n=1;n<=e;n++)i=i+h[n-1]<<1,f[n]=i;for(s=0;s<r;s+=2)u=a[s+1],u!=0&&(a[s]=f[u],f[u]++)};y.F.codes2map=function(a,e,t){for(var r=a.length,i=y.F.U,n=i.rev15,s=0;s<r;s+=2)if(a[s+1]!=0)for(var o=s>>1,u=a[s+1],h=o<<4|u,f=e-u,c=a[s]<<f,m=c+(1<<f);c!=m;){var d=n[c]>>>15-e;t[d]=h,c++}};y.F.revCodes=function(a,e){for(var t=y.F.U.rev15,r=15-e,i=0;i<a.length;i+=2){var n=a[i]<<e-a[i+1];a[i]=t[n]>>>r}};y.F._putsE=function(a,e,t){t=t<<(e&7);var r=e>>>3;a[r]|=t,a[r+1]|=t>>>8};y.F._putsF=function(a,e,t){t=t<<(e&7);var r=e>>>3;a[r]|=t,a[r+1]|=t>>>8,a[r+2]|=t>>>16};y.F._bitsE=function(a,e,t){return(a[e>>>3]|a[(e>>>3)+1]<<8)>>>(e&7)&(1<<t)-1};y.F._bitsF=function(a,e,t){return(a[e>>>3]|a[(e>>>3)+1]<<8|a[(e>>>3)+2]<<16)>>>(e&7)&(1<<t)-1};y.F._get17=function(a,e){return(a[e>>>3]|a[(e>>>3)+1]<<8|a[(e>>>3)+2]<<16)>>>(e&7)};y.F._get25=function(a,e){return(a[e>>>3]|a[(e>>>3)+1]<<8|a[(e>>>3)+2]<<16|a[(e>>>3)+3]<<24)>>>(e&7)};y.F.U=function(){var a=Uint16Array,e=Uint32Array;return{next_code:new a(16),bl_count:new a(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new a(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new e(32),flmap:new a(512),fltree:[],fdmap:new a(32),fdtree:[],lmap:new a(32768),ltree:[],ttree:[],dmap:new a(32768),dtree:[],imap:new a(512),itree:[],rev15:new a(1<<15),lhst:new e(286),dhst:new e(30),ihst:new e(19),lits:new e(15e3),strt:new a(1<<16),prev:new a(1<<15)}}();(function(){for(var a=y.F.U,e=1<<15,t=0;t<e;t++){var r=t;r=(r&2863311530)>>>1|(r&1431655765)<<1,r=(r&3435973836)>>>2|(r&858993459)<<2,r=(r&4042322160)>>>4|(r&252645135)<<4,r=(r&4278255360)>>>8|(r&16711935)<<8,a.rev15[t]=(r>>>16|r<<16)>>>17}function i(n,s,o){for(;s--!=0;)n.push(0,o)}for(var t=0;t<32;t++)a.ldef[t]=a.of0[t]<<3|a.exb[t],a.ddef[t]=a.df0[t]<<4|a.dxb[t];i(a.fltree,144,8),i(a.fltree,255-143,9),i(a.fltree,279-255,7),i(a.fltree,287-279,8),y.F.makeCodes(a.fltree,9),y.F.codes2map(a.fltree,9,a.flmap),y.F.revCodes(a.fltree,9),i(a.fdtree,32,5),y.F.makeCodes(a.fdtree,5),y.F.codes2map(a.fdtree,5,a.fdmap),y.F.revCodes(a.fdtree,5),i(a.itree,19,0),i(a.ltree,286,0),i(a.dtree,30,0),i(a.ttree,320,0)})()});var Xi,Dt,ct=M(()=>{"use strict";Xi=mi(bi());Ve();ue();Dt=class{get name(){return this._name}get compression(){return this._compression}get data(){return this._data}constructor(e,t,r){this._name=e,this._compression=t,this._data=r}static from(e){return new Dt(e._name,e._compression,N.copyUint8(e._data))}compressed(){return this._compression===1?this._data:(this._data=(0,Xi.deflate)(this._data),this._compression=1,this._data)}decompressed(){return this._compression===1?this._data:(this._data=(0,Xi.inflate)(this._data),this._compression=0,this._data)}}});ve();Le();Ne();je();Qe();ie();Ke();Ge();He();Se();Fe();Je();ct();Ve();ue();me();de();Pe();Qt();et();j();Re();Ze();nt();At();ke();it();Kt();Jt();It();er();ut();ht();ot();vt();Bt();lt();dt();Ut();St();Ft();mt();pt();Rt();kt();Ot();Zt();Lt();Nt();Gt();Ht();zt();Vt();$e();qe();Xe();Et();Pt();ft();Ct();ye();Ye();Mt();Ce();sr();Tt();xt();Ee();_t();ar();$t();st();or();qt();bt();Xt();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=index.js.map
